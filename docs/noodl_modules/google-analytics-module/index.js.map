{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@noodl/noodl-sdk/index.js","webpack:///external \"React\"","webpack:///./src/nodes/GoogleAnalyticsInitializer.tsx","webpack:///./src/constants.ts","webpack:///./src/nodes/SendAnalyticsData.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_colors","Noodl","defineNode","def","_def","displayNodeName","displayName","usePortAsLabel","useInputAsLabel","color","category","getInspectInfo","docs","initialize","this","inputs","_outputs","outputs","_this","setOutputs","flagOutputDirty","clearWarnings","context","editorConnection","nodeScope","componentOwner","id","sendWarning","message","apply","type","undefined","group","default","set","_key","changed","signals","valueChangedToTrue","_fn","signal","scheduleAfterInputsHaveUpdated","methods","prototypeExtensions","onNodeDeleted","_onNodeDeleted","__proto__","node","setup","defineCollectionNode","assign","Items","Fetch","sendSignalOnOutput","a","fetch","defineModelNode","Id","Fetched","_object","_changeListener","off","_o","on","data","properties","defineReactNode","getReactComponent","inputProps","inputCss","outputProps","frame","React","NODE_NAME","concat","InitializerComponent","_a","measurementId","allowTracking","sendPageView","window","gtag","page_title","document","title","page_location","location","href","send_to","history","pushState","pushState_1","pushstateEvent_1","Event","state","url","dispatchEvent","script","createElement","src","head","appendChild","dataLayer","push","arguments","Date","addEventListener","removeEventListener","GoogleAnalyticsInitializer","_updateTrackingSignalIfAllowed","props","val","forceUpdate","trackingStarted","mountedInput","SendAnalyticsData","Do","console","warn","args","JSON","parse","TrackingCode","eval","codeeditor","DataSent","reactNodes","nodes"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","const _colors = {\n    \"purple\":\"component\",\n    \"green\":\"data\",\n    \"default\":\"default\",\n    \"grey\":\"default\"\n}\n\nNoodl.defineNode = function(def) {\n    const _def = {};\n\n    _def.name = def.name;\n    _def.displayNodeName = def.displayName;\n    _def.usePortAsLabel = def.useInputAsLabel;\n    _def.color = _colors[def.color || 'default'];\n    _def.category = def.category || 'Modules';\n    _def.getInspectInfo = def.getInspectInfo;\n    _def.docs = def.docs;\n    \n    _def.initialize = function() {\n        this.inputs = {};\n        var _outputs = this.outputs = {};\n        var _this = this;\n\n        // Function for quickly setting outputs\n        this.setOutputs = function(o) {\n            for(var key in o) {\n                _outputs[key] = o[key];\n                _this.flagOutputDirty(key);\n            }\n        }\n\n        // Sending warnings\n        this.clearWarnings = (function() {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.clearWarnings(this.nodeScope.componentOwner.name, this.id);\n        }).bind(this);\n\n        this.sendWarning = (function(name,message) {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.sendWarning(this.nodeScope.componentOwner.name, this.id, name, {\n                    message: message\n                });\n        }).bind(this);\n\n        if(typeof def.initialize === 'function')\n            def.initialize.apply(this);\n    }\n    _def.inputs = {};\n    _def.outputs = {};\n\n    for(var key in def.inputs) {\n        _def.inputs[key] = {\n            type:(typeof def.inputs[key] === 'object')?def.inputs[key].type:def.inputs[key],\n            displayName:(typeof def.inputs[key] === 'object')?def.inputs[key].displayName:undefined,\n            group:(typeof def.inputs[key] === 'object')?def.inputs[key].group:undefined,\n            default:(typeof def.inputs[key] === 'object')?def.inputs[key].default:undefined,\n            set:(function() { const _key = key; return function(value) {\n                this.inputs[_key] = value;\n                if(def.changed && typeof def.changed[_key] === 'function') {\n                    def.changed[_key].apply(this,[value]);\n                }\n            }})()\n        }\n    }\n\n    for(var key in def.signals) {\n        _def.inputs[key] = {\n            type:'signal',\n            displayName:(typeof def.signals[key] === 'object')?def.signals[key].displayName:undefined,\n            group:(typeof def.signals[key] === 'object')?def.signals[key].group:undefined,\n            valueChangedToTrue:(function() { const _key = key; return function() {\n                const _fn = (typeof def.signals[_key] === 'object')?def.signals[_key].signal:def.signals[_key]\n                if(typeof _fn === 'function') {\n                    this.scheduleAfterInputsHaveUpdated(() => {\n                        _fn.apply(this);\n                    }) \n                }\n            }})()\n        }\n    }\n\n    for(var key in def.outputs) {\n        if(def.outputs[key] === 'signal') {\n            _def.outputs[key] = {\n                type:'signal',\n            }\n        }\n        else {\n            _def.outputs[key] = {\n                type:(typeof def.outputs[key] === 'object')?def.outputs[key].type:def.outputs[key],\n                displayName:(typeof def.outputs[key] === 'object')?def.outputs[key].displayName:undefined,\n                group:(typeof def.outputs[key] === 'object')?def.outputs[key].group:undefined,\n                getter:(function() { const _key = key; return function() {\n                    return this.outputs[_key];\n                }})()\n            }\n        }\n    }\n\n    _def.methods = _def.prototypeExtensions = {};\n    for(var key in def.methods) {\n        _def.prototypeExtensions[key] = def.methods[key];\n    }\n    if(_def.methods.onNodeDeleted) { // Override the onNodeDeleted if required\n        _def.methods._onNodeDeleted = function() {\n            this.__proto__.__proto__._onNodeDeleted.call(this);\n            _def.methods.onNodeDeleted.value.call(this);\n        }\n    }\n\n    return {node:_def,setup:def.setup};\n}\n\nNoodl.defineCollectionNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:def.inputs,\n        outputs:Object.assign({\n            Items:'array',\n            'Fetch Started':'signal',\n            'Fetch Completed':'signal'\n        },def.outputs||{}),\n        signals:Object.assign({\n            Fetch:function() {\n                var _this = this;\n                this.sendSignalOnOutput('Fetch Started');\n                var a = def.fetch.call(this,function() {\n                    _this.sendSignalOnOutput('Fetch Completed');\n                });\n                this.setOutputs({\n                    Items:a\n                })\n            }\n        },def.signals||{})\n    }\n\n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineModelNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:{\n            Id:'string'\n        },\n        outputs:{\n            Fetched:'signal'\n        },\n        changed:{\n            Id:function(value) {\n                if(this._object && this._changeListener)\n                    this._object.off('change',this._changeListener)\n                \n                this._object = Noodl.Object.get(value);\n                this._changeListener = (name,value) => {\n                    const _o = {}\n                    _o[name] = value;\n                    this.setOutputs(_o)\n                }\n                this._object.on('change',this._changeListener)\n\n                this.setOutputs(this._object.data);\n                this.sendSignalOnOutput('Fetched');\n            }\n        },\n        initialize:function() {\n\n        }\n    }\n\n    for(var key in def.properties) {\n        _def.inputs[key] = def.properties[key];\n        _def.outputs[key] = def.properties[key];\n        _def.changed[key] = (function() { const _key = key; return function(value) {\n            if(!this._object) return;\n            this._object.set(_key,value);\n        }})()\n    }\n \n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineReactNode = function(def) {\n    var _def = Noodl.defineNode(def);\n\n    _def.node.getReactComponent = def.getReactComponent;\n    _def.node.inputProps = def.inputProps;\n    _def.node.inputCss = def.inputCss;\n    _def.node.outputProps = def.outputProps;\n    _def.node.setup = def.setup;\n    _def.node.frame = def.frame;\n\n    return _def.node;\n}\n\nmodule.exports = Noodl;","module.exports = React;","import * as Noodl from '@noodl/noodl-sdk';\nimport { useEffect } from 'react';\nimport { MODULE_NAMESPACE } from '../constants';\nvar NODE_NAME = \"\".concat(MODULE_NAMESPACE, \".analyticsLoader\");\nfunction InitializerComponent(_a) {\n    var measurementId = _a.measurementId, allowTracking = _a.allowTracking;\n    useEffect(function () {\n        var _a;\n        if ((_a = window.history) === null || _a === void 0 ? void 0 : _a.pushState) {\n            var pushState_1 = window.history.pushState.bind(history);\n            var pushstateEvent_1 = new Event('pushstate');\n            // hacking pushstate to send custom event\n            window.history.pushState = function (state, title, url) {\n                pushState_1(state, title, url);\n                window.dispatchEvent(pushstateEvent_1);\n            };\n        }\n    }, []);\n    useEffect(function () {\n        var _a;\n        if (measurementId && allowTracking) {\n            var script = document.createElement('script');\n            script.src = \"https://www.googletagmanager.com/gtag/js?id=\".concat(measurementId);\n            document.head.appendChild(script);\n            window.dataLayer = window.dataLayer || [];\n            window.gtag = function () {\n                window.dataLayer.push(arguments);\n            };\n            window.gtag('js', new Date());\n            window.gtag('config', measurementId);\n            // Listen to push state events and send tracking\n            if ((_a = window.history) === null || _a === void 0 ? void 0 : _a.pushState) {\n                //this is event is manually sent on push, so covers both pop and push state\n                window.addEventListener('pushstate', sendPageView);\n            }\n        }\n        return function () {\n            window.removeEventListener('pushstate', sendPageView);\n        };\n    }, [measurementId, allowTracking]);\n    function sendPageView() {\n        window.gtag('event', 'page_view', {\n            page_title: document.title,\n            page_location: window.location.href,\n            send_to: measurementId,\n        });\n    }\n    return null;\n}\nexport var GoogleAnalyticsInitializer = Noodl.defineReactNode({\n    name: NODE_NAME,\n    displayName: 'Google Analytics Root',\n    docs: 'https://docs.noodl.net/#/modules/google-analytics/nodes/google-analytics-root/README.md',\n    category: 'visual',\n    getReactComponent: function () {\n        return InitializerComponent;\n    },\n    inputs: {\n        measurementId: {\n            displayName: 'Measurement ID',\n            type: 'string',\n            default: undefined,\n            group: 'Analytics',\n        },\n        allowTracking: {\n            displayName: 'Allow Tracking',\n            type: 'boolean',\n            default: false,\n            group: 'Analytics',\n        },\n    },\n    methods: {\n        _updateTrackingSignalIfAllowed: function () {\n            if (this.props.allowTracking && this.props.measurementId) {\n                this.sendSignalOnOutput('trackingStarted');\n            }\n        },\n    },\n    changed: {\n        allowTracking: function (val) {\n            this.props.allowTracking = val;\n            this._updateTrackingSignalIfAllowed();\n            this.forceUpdate();\n        },\n        measurementId: function (val) {\n            this.props.measurementId = val;\n            this._updateTrackingSignalIfAllowed();\n            this.forceUpdate();\n        },\n    },\n    outputProps: {\n        trackingStarted: {\n            type: 'signal',\n            displayName: 'Starting Tracking',\n            group: 'Analytics',\n        },\n    },\n    // @ts-ignore\n    mountedInput: false,\n});\n","export var MODULE_NAMESPACE = 'noodl.googleAnalyticsModule';\n","import * as Noodl from '@noodl/noodl-sdk';\nimport { MODULE_NAMESPACE } from '../constants';\nexport var SendAnalyticsData = Noodl.defineNode({\n    name: \"\".concat(MODULE_NAMESPACE, \".sendAnalyticsData\"),\n    displayName: 'Send Google Analytics Data',\n    docs: 'https://docs.noodl.net/#/modules/google-analytics/nodes/send-google-analytics-data/README.md',\n    signals: {\n        Do: function () {\n            if (typeof window.gtag === 'undefined') {\n                console.warn('Noodl Google Analytics Module: Tracking script not loaded. This might be because of a user opt-out.');\n                return null;\n            }\n            var args;\n            try {\n                args = JSON.parse('[' + this.inputs.TrackingCode + ']');\n            }\n            catch (_a) {\n                args = (0, eval)('([' + this.inputs.TrackingCode + '])');\n            }\n            window.gtag.apply(window, args);\n            this.sendSignalOnOutput('DataSent');\n        },\n    },\n    inputs: {\n        TrackingCode: {\n            displayName: 'Gtag Tracking Data',\n            type: { name: 'string', codeeditor: 'javascript' },\n            default: '\"event\", \"search\", {\"term\": \"Udon\"}',\n            group: 'Analytics',\n        },\n    },\n    outputs: {\n        DataSent: {\n            type: 'signal',\n            displayName: 'Data Sent',\n            group: 'Analytics',\n        },\n    },\n});\n","import * as Noodl from '@noodl/noodl-sdk';\nimport { GoogleAnalyticsInitializer } from './nodes/GoogleAnalyticsInitializer';\nimport { SendAnalyticsData } from './nodes/SendAnalyticsData';\nNoodl.defineModule({\n    reactNodes: [GoogleAnalyticsInitializer],\n    nodes: [SendAnalyticsData],\n});\n"],"sourceRoot":""}