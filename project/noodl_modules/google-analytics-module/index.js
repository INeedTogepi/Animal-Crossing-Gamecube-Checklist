!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){const n={purple:"component",green:"data",default:"default",grey:"default"};Noodl.defineNode=function(t){const e={};for(var o in e.name=t.name,e.displayNodeName=t.displayName,e.usePortAsLabel=t.useInputAsLabel,e.color=n[t.color||"default"],e.category=t.category||"Modules",e.getInspectInfo=t.getInspectInfo,e.docs=t.docs,e.initialize=function(){this.inputs={};var e=this.outputs={},n=this;this.setOutputs=function(t){for(var o in t)e[o]=t[o],n.flagOutputDirty(o)},this.clearWarnings=function(){this.context.editorConnection&&this.nodeScope&&this.nodeScope.componentOwner&&this.context.editorConnection.clearWarnings(this.nodeScope.componentOwner.name,this.id)}.bind(this),this.sendWarning=function(t,e){this.context.editorConnection&&this.nodeScope&&this.nodeScope.componentOwner&&this.context.editorConnection.sendWarning(this.nodeScope.componentOwner.name,this.id,t,{message:e})}.bind(this),"function"==typeof t.initialize&&t.initialize.apply(this)},e.inputs={},e.outputs={},t.inputs)e.inputs[o]={type:"object"==typeof t.inputs[o]?t.inputs[o].type:t.inputs[o],displayName:"object"==typeof t.inputs[o]?t.inputs[o].displayName:void 0,group:"object"==typeof t.inputs[o]?t.inputs[o].group:void 0,default:"object"==typeof t.inputs[o]?t.inputs[o].default:void 0,set:function(){const e=o;return function(n){this.inputs[e]=n,t.changed&&"function"==typeof t.changed[e]&&t.changed[e].apply(this,[n])}}()};for(var o in t.signals)e.inputs[o]={type:"signal",displayName:"object"==typeof t.signals[o]?t.signals[o].displayName:void 0,group:"object"==typeof t.signals[o]?t.signals[o].group:void 0,valueChangedToTrue:function(){const e=o;return function(){const n="object"==typeof t.signals[e]?t.signals[e].signal:t.signals[e];"function"==typeof n&&this.scheduleAfterInputsHaveUpdated(()=>{n.apply(this)})}}()};for(var o in t.outputs)"signal"===t.outputs[o]?e.outputs[o]={type:"signal"}:e.outputs[o]={type:"object"==typeof t.outputs[o]?t.outputs[o].type:t.outputs[o],displayName:"object"==typeof t.outputs[o]?t.outputs[o].displayName:void 0,group:"object"==typeof t.outputs[o]?t.outputs[o].group:void 0,getter:function(){const t=o;return function(){return this.outputs[t]}}()};for(var o in e.methods=e.prototypeExtensions={},t.methods)e.prototypeExtensions[o]=t.methods[o];return e.methods.onNodeDeleted&&(e.methods._onNodeDeleted=function(){this.__proto__.__proto__._onNodeDeleted.call(this),e.methods.onNodeDeleted.value.call(this)}),{node:e,setup:t.setup}},Noodl.defineCollectionNode=function(t){const e={name:t.name,category:t.category,color:"data",inputs:t.inputs,outputs:Object.assign({Items:"array","Fetch Started":"signal","Fetch Completed":"signal"},t.outputs||{}),signals:Object.assign({Fetch:function(){var e=this;this.sendSignalOnOutput("Fetch Started");var n=t.fetch.call(this,(function(){e.sendSignalOnOutput("Fetch Completed")}));this.setOutputs({Items:n})}},t.signals||{})};return Noodl.defineNode(e)},Noodl.defineModelNode=function(t){const e={name:t.name,category:t.category,color:"data",inputs:{Id:"string"},outputs:{Fetched:"signal"},changed:{Id:function(t){this._object&&this._changeListener&&this._object.off("change",this._changeListener),this._object=Noodl.Object.get(t),this._changeListener=(t,e)=>{const n={};n[t]=e,this.setOutputs(n)},this._object.on("change",this._changeListener),this.setOutputs(this._object.data),this.sendSignalOnOutput("Fetched")}},initialize:function(){}};for(var n in t.properties)e.inputs[n]=t.properties[n],e.outputs[n]=t.properties[n],e.changed[n]=function(){const t=n;return function(e){this._object&&this._object.set(t,e)}}();return Noodl.defineNode(e)},Noodl.defineReactNode=function(t){var e=Noodl.defineNode(t);return e.node.getReactComponent=t.getReactComponent,e.node.inputProps=t.inputProps,e.node.inputCss=t.inputCss,e.node.outputProps=t.outputProps,e.node.setup=t.setup,e.node.frame=t.frame,e.node},t.exports=Noodl},function(t,e){t.exports=React},function(t,e,n){"use strict";n.r(e);var o=n(0),i=n(1),s="".concat("noodl.googleAnalyticsModule",".analyticsLoader");function a(t){var e=t.measurementId,n=t.allowTracking;function o(){window.gtag("event","page_view",{page_title:document.title,page_location:window.location.href,send_to:e})}return Object(i.useEffect)((function(){var t;if(null===(t=window.history)||void 0===t?void 0:t.pushState){var e=window.history.pushState.bind(history),n=new Event("pushstate");window.history.pushState=function(t,o,i){e(t,o,i),window.dispatchEvent(n)}}}),[]),Object(i.useEffect)((function(){var t;if(e&&n){var i=document.createElement("script");i.src="https://www.googletagmanager.com/gtag/js?id=".concat(e),document.head.appendChild(i),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e),(null===(t=window.history)||void 0===t?void 0:t.pushState)&&window.addEventListener("pushstate",o)}return function(){window.removeEventListener("pushstate",o)}}),[e,n]),null}var u=o.defineReactNode({name:s,displayName:"Google Analytics Root",docs:"https://docs.noodl.net/#/modules/google-analytics/nodes/google-analytics-root/README.md",category:"visual",getReactComponent:function(){return a},inputs:{measurementId:{displayName:"Measurement ID",type:"string",default:void 0,group:"Analytics"},allowTracking:{displayName:"Allow Tracking",type:"boolean",default:!1,group:"Analytics"}},methods:{_updateTrackingSignalIfAllowed:function(){this.props.allowTracking&&this.props.measurementId&&this.sendSignalOnOutput("trackingStarted")}},changed:{allowTracking:function(t){this.props.allowTracking=t,this._updateTrackingSignalIfAllowed(),this.forceUpdate()},measurementId:function(t){this.props.measurementId=t,this._updateTrackingSignalIfAllowed(),this.forceUpdate()}},outputProps:{trackingStarted:{type:"signal",displayName:"Starting Tracking",group:"Analytics"}},mountedInput:!1}),r=o.defineNode({name:"".concat("noodl.googleAnalyticsModule",".sendAnalyticsData"),displayName:"Send Google Analytics Data",docs:"https://docs.noodl.net/#/modules/google-analytics/nodes/send-google-analytics-data/README.md",signals:{Do:function(){if(void 0===window.gtag)return console.warn("Noodl Google Analytics Module: Tracking script not loaded. This might be because of a user opt-out."),null;var t;try{t=JSON.parse("["+this.inputs.TrackingCode+"]")}catch(e){t=(0,eval)("(["+this.inputs.TrackingCode+"])")}window.gtag.apply(window,t),this.sendSignalOnOutput("DataSent")}},inputs:{TrackingCode:{displayName:"Gtag Tracking Data",type:{name:"string",codeeditor:"javascript"},default:'"event", "search", {"term": "Udon"}',group:"Analytics"}},outputs:{DataSent:{type:"signal",displayName:"Data Sent",group:"Analytics"}}});o.defineModule({reactNodes:[u],nodes:[r]})}]);
//# sourceMappingURL=index.js.map