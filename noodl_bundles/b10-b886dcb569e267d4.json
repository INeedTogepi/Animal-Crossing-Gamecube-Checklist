[{"name":"/Collection Pages/Bugs/Bugs Logic/Options","nodes":[{"id":"a2716655-2805-1782-a132-a52d015381bf","type":"Group","parameters":{},"ports":[],"children":[{"id":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"85a7c883-b307-cbd5-bc03-401f63f39b66","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"8707d727-4fde-4c09-d515-0b9abe653cc1","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"id","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-ID"},{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"prop-Label","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-Label"},{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"prop-Checked","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-Checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-ID","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-ID"},{"sourceId":"85a7c883-b307-cbd5-bc03-401f63f39b66","sourcePort":"out-ID","targetId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","targetPort":"modelId"},{"sourceId":"85a7c883-b307-cbd5-bc03-401f63f39b66","sourcePort":"out-Checked","targetId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","targetPort":"prop-Checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Label","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Label"},{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"prop-Icon","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-Icon"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Icon","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Icon"},{"sourceId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","sourcePort":"stored","targetId":"8707d727-4fde-4c09-d515-0b9abe653cc1","targetPort":"Selection Changed"},{"sourceId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","sourcePort":"onChange","targetId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","targetPort":"store"},{"sourceId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","sourcePort":"onChange","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Changed"},{"sourceId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","sourcePort":"checked","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Checked","targetId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","targetPort":"checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Label","targetId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["a2716655-2805-1782-a132-a52d015381bf"]},{"name":"/Collection Pages/Fish/Fish Logic/Options","nodes":[{"id":"4931c1cc-5485-e667-3f5d-d97217875082","type":"Group","parameters":{},"ports":[],"children":[{"id":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"3c92213b-4f67-6761-32dc-51a2c3893954","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"73be9741-8110-71a4-db80-69d6f265bd43","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"fd95931f-2cf2-7b87-578c-1ad965fcfb69","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"id","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-ID"},{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"prop-Label","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-Label"},{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"prop-Checked","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-Checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-ID","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-ID"},{"sourceId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","sourcePort":"out-ID","targetId":"3c92213b-4f67-6761-32dc-51a2c3893954","targetPort":"modelId"},{"sourceId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","sourcePort":"out-Checked","targetId":"3c92213b-4f67-6761-32dc-51a2c3893954","targetPort":"prop-Checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Label","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Label"},{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"prop-Icon","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-Icon"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Icon","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Icon"},{"sourceId":"3c92213b-4f67-6761-32dc-51a2c3893954","sourcePort":"stored","targetId":"fd95931f-2cf2-7b87-578c-1ad965fcfb69","targetPort":"Selection Changed"},{"sourceId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","sourcePort":"onChange","targetId":"3c92213b-4f67-6761-32dc-51a2c3893954","targetPort":"store"},{"sourceId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","sourcePort":"onChange","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Changed"},{"sourceId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","sourcePort":"checked","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Checked","targetId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","targetPort":"checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Label","targetId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["4931c1cc-5485-e667-3f5d-d97217875082"]},{"name":"/Collection Pages/Fossils/Fossil Logic","nodes":[{"id":"e5cbcd36-a923-645b-dcdd-237572691c6a","type":"Group","parameters":{"flexDirection":"column","sizeMode":"contentHeight","borderStyle":"solid","borderWidth":{"value":3,"unit":"px"},"borderColor":"Nook Tan Dark","backgroundColor":"Nook Tan","marginTop":{"value":15,"unit":"px"},"marginBottom":{"value":-5,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"6593bcca-adb4-bc24-87fc-e58fb8be3ccf","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","borderStyle":"solid","borderWidth":{"value":3,"unit":"px"},"borderColor":"Nook Tan Dark","backgroundColor":"Nook Tan","marginTop":{"value":10,"unit":"px"},"marginBottom":{"value":-5,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"marginLeft":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"1568601a-fd0b-85ce-38ea-2b87f465d3f9","type":"Text","parameters":{"text":"Icon","textAlignX":"center"},"ports":[],"children":[]},{"id":"fc728983-74a2-a2e3-e66e-2517f2a078b9","type":"Text","parameters":{"text":"Name","textAlignX":"center"},"ports":[],"children":[]},{"id":"32ebc2a2-12cf-9cbe-4cc5-055c9b8c3506","type":"Text","parameters":{"text":"Price","textAlignX":"center"},"ports":[],"children":[]},{"id":"d7f28303-f3cf-44a0-1394-f429b717ce9f","type":"Text","parameters":{"text":"Donated","textAlignX":"center"},"ports":[],"children":[]}]},{"id":"74b868a8-0b10-2ed8-637b-1fb0cd54a540","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"marginTop":{"value":8,"unit":"px"},"marginBottom":{"value":-72,"unit":"px"}},"ports":[],"children":[{"id":"9348e1d9-8744-ed95-96e2-cfc5d7877e41","type":"Group","parameters":{},"ports":[],"children":[{"id":"0c9e3d5f-cb70-1dd5-130b-710dfa9e329b","type":"Image","parameters":{"src":"images/paintings/64px-Scary_Painting_PG_Model.png","minWidth":{"value":32,"unit":"px"},"maxWidth":{"value":32,"unit":"px"},"minHeight":{"value":32,"unit":"px"},"maxHeight":{"value":32,"unit":"px"},"alignX":"center","marginTop":{"value":8,"unit":"px"}},"ports":[],"children":[]}]},{"id":"35145e61-cd17-d27b-9706-fdd5f98e470a","type":"Text","parameters":{"text":"Label","textStyle":"Body Small","wordBreak":"normal","minWidth":{"value":25,"unit":"%"},"maxWidth":{"value":25,"unit":"%"},"minHeight":{"value":25,"unit":"%"},"maxHeight":{"value":25,"unit":"%"},"marginTop":{"value":10,"unit":"px"},"textAlignX":"center"},"ports":[],"children":[]},{"id":"575cb9d8-dae2-3ef1-5a74-7b90547f35de","type":"Text","parameters":{"text":"Price","minWidth":{"value":25,"unit":"%"},"maxWidth":{"value":25,"unit":"%"},"minHeight":{"value":25,"unit":"%"},"maxHeight":{"value":25,"unit":"%"},"textAlignX":"center","marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"15a1765e-47e7-3b94-dfca-188c734be59b","type":"Group","parameters":{"minWidth":{"value":25,"unit":"%"},"maxWidth":{"value":25,"unit":"%"},"minHeight":{"value":25,"unit":"%"},"maxHeight":{"value":25,"unit":"%"},"alignX":"right","flexDirection":"row","justifyContent":"center","alignY":"center","marginBottom":{"value":75,"unit":"px"},"marginTop":{"value":-10,"unit":"px"}},"ports":[],"children":[{"id":"431108de-976e-e8cb-e81d-7c0e67348e90","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown","useLabel":false,"useIcon":true,"iconSourceType":"image","iconImageSource":"images/icons/owl.png","iconSize":{"value":40,"unit":"px"},"width":{"value":48,"unit":"px"},"height":{"value":48,"unit":"px"},"borderRadius":{"value":50,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"93c044d6-dfa0-0b9b-acb9-89f0847f2976","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","borderStyle":"solid","borderWidth":{"value":3,"unit":"px"},"borderColor":"Nook Tan Dark","backgroundColor":"Nook Tan","marginTop":{"value":10,"unit":"px"},"marginBottom":{"value":-5,"unit":"px"},"borderRadius":{"value":12,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"marginLeft":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"cb40389d-6e7f-713a-1a34-646934df34d6","type":"Text","parameters":{"text":"Time","textAlignX":"center"},"ports":[],"children":[]},{"id":"308b792f-3151-918b-8f13-046d3c042f18","type":"Text","parameters":{"text":"Months","textAlignX":"center"},"ports":[],"children":[]},{"id":"bec7da2e-b1ce-d6b7-5607-24ab9526bae4","type":"Text","parameters":{"text":"Location","textAlignX":"center"},"ports":[],"children":[]}]},{"id":"44529d77-6156-8258-6295-96dbf619b442","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentHeight","marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"786156bb-66a9-09de-c037-df82fbfb67ba","type":"Text","parameters":{"text":"Time","minWidth":{"value":20,"unit":"%"},"maxWidth":{"value":20,"unit":"%"},"minHeight":{"value":20,"unit":"%"},"maxHeight":{"value":20,"unit":"%"},"alignX":"center","textAlignX":"center","marginTop":{"value":10,"unit":"px"},"wordBreak":"break-all"},"ports":[],"children":[]},{"id":"3498a326-893a-9466-f626-a2b27f3bd85d","type":"Text","parameters":{"text":"Months","minWidth":{"value":20,"unit":"%"},"maxWidth":{"value":20,"unit":"%"},"minHeight":{"value":20,"unit":"%"},"maxHeight":{"value":20,"unit":"%"},"alignX":"center","alignY":"top","marginTop":{"value":10,"unit":"px"},"textAlignX":"center"},"ports":[],"children":[]},{"id":"636dff39-085f-5bfd-df3a-2c5358673c2f","type":"Text","parameters":{"text":"Weather","minWidth":{"value":20,"unit":"%"},"maxWidth":{"value":20,"unit":"%"},"minHeight":{"value":20,"unit":"%"},"maxHeight":{"value":20,"unit":"%"},"alignX":"center","marginTop":{"value":10,"unit":"px"},"textAlignX":"center"},"ports":[],"children":[]}]}]},{"id":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","type":"Model2","parameters":{"idSource":"foreach","properties":"Image,Label,Price,Checked,id,Location,Time,Months"},"ports":[],"children":[]},{"id":"9e368a0d-a67b-654b-7b2e-b101fbf1ffa8","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"a52d374d-d65c-72f2-b53e-17e1db402c03","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst price = Inputs.Price || '';\nconst icon = Inputs.Icon || '';\nconst weather = Inputs.Weather || '';\nconst time = Inputs.Time || '';\nconst months = Inputs.Months || '';\nconst checked = Inputs.Checked || false; // Added checked\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Price = price;\n    Outputs.Icon = icon;\n    Outputs.Weather = weather;\n    Outputs.Time = time;\n    Outputs.Months = months;\n    Outputs.Checked = checked; // Added checked\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Price = result.price || '';\n        Outputs.Icon = result.icon || '';\n        Outputs.Weather = result.weather || '';\n        Outputs.Time = result.time || '';\n        Outputs.Months = result.months || '';\n        Outputs.Checked = result.checked || false; // Added checked handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Price","displayName":"Price","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Weather","displayName":"Weather","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Time","displayName":"Time","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Months","displayName":"Months","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Price","displayName":"Price","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-Weather","displayName":"Weather","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-Time","displayName":"Time","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-Months","displayName":"Months","plug":"output","type":"*","group":"Outputs","index":20},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":21}],"children":[]},{"id":"2b647776-8266-fb54-a0b9-5739856ee395","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\nconst obtained = Inputs.Obtained || ''; // Added obtained\r\nconst price = Inputs.Price || ''; // Added price\r\nconst weather = Inputs.Weather || ''; // Added weather\r\nconst time = Inputs.Time || ''; // Added time\r\nconst months = Inputs.Months || ''; // Added months\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon ||\r\n                    existingItem.obtained !== selection.obtained ||\r\n                    existingItem.price !== selection.price ||\r\n                    existingItem.weather !== selection.weather ||\r\n                    existingItem.time !== selection.time ||\r\n                    existingItem.months !== selection.months) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Obtained = obtained; // Added obtained\r\n    Outputs.Price = price; // Added price\r\n    Outputs.Weather = weather; // Added weather\r\n    Outputs.Time = time; // Added time\r\n    Outputs.Months = months; // Added months\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon, obtained, price, weather, time, months }; // Added weather, time, and months\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Obtained","displayName":"Obtained","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-Price","displayName":"Price","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-Weather","displayName":"Weather","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-Time","displayName":"Time","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-Months","displayName":"Months","plug":"input","type":"*","group":"Inputs","index":13},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":14},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":20},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":21},{"name":"out-Obtained","displayName":"Obtained","plug":"output","type":"*","group":"Outputs","index":22},{"name":"out-Price","displayName":"Price","plug":"output","type":"*","group":"Outputs","index":23},{"name":"out-Weather","displayName":"Weather","plug":"output","type":"*","group":"Outputs","index":24},{"name":"out-Time","displayName":"Time","plug":"output","type":"*","group":"Outputs","index":25},{"name":"out-Months","displayName":"Months","plug":"output","type":"*","group":"Outputs","index":26}],"children":[]}],"connections":[{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-ID","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-ID"},{"sourceId":"2b647776-8266-fb54-a0b9-5739856ee395","sourcePort":"out-ID","targetId":"9e368a0d-a67b-654b-7b2e-b101fbf1ffa8","targetPort":"modelId"},{"sourceId":"2b647776-8266-fb54-a0b9-5739856ee395","sourcePort":"out-Checked","targetId":"9e368a0d-a67b-654b-7b2e-b101fbf1ffa8","targetPort":"prop-Checked"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Label","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Label"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"id","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-ID"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"prop-Label","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-Label"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"prop-Image","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-Icon"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Label","targetId":"35145e61-cd17-d27b-9706-fdd5f98e470a","targetPort":"text"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Icon","targetId":"0c9e3d5f-cb70-1dd5-130b-710dfa9e329b","targetPort":"src"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Price","targetId":"575cb9d8-dae2-3ef1-5a74-7b90547f35de","targetPort":"text"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"prop-Checked","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-Checked"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"prop-Price","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-Price"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Weather","targetId":"636dff39-085f-5bfd-df3a-2c5358673c2f","targetPort":"text"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Time","targetId":"786156bb-66a9-09de-c037-df82fbfb67ba","targetPort":"text"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Months","targetId":"3498a326-893a-9466-f626-a2b27f3bd85d","targetPort":"text"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Price","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Price"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Icon","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Icon"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"prop-Location","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-Weather"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"prop-Time","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-Time"},{"sourceId":"c9b28bcb-e7b5-e4ee-d727-6067ae92fa9f","sourcePort":"prop-Months","targetId":"a52d374d-d65c-72f2-b53e-17e1db402c03","targetPort":"in-Months"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Weather","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Weather"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Time","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Time"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Months","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Months"},{"sourceId":"a52d374d-d65c-72f2-b53e-17e1db402c03","sourcePort":"out-Checked","targetId":"431108de-976e-e8cb-e81d-7c0e67348e90","targetPort":"checked"},{"sourceId":"431108de-976e-e8cb-e81d-7c0e67348e90","sourcePort":"checked","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Checked"},{"sourceId":"431108de-976e-e8cb-e81d-7c0e67348e90","sourcePort":"onChange","targetId":"2b647776-8266-fb54-a0b9-5739856ee395","targetPort":"in-Changed"},{"sourceId":"431108de-976e-e8cb-e81d-7c0e67348e90","sourcePort":"onChange","targetId":"9e368a0d-a67b-654b-7b2e-b101fbf1ffa8","targetPort":"store"}],"ports":[],"roots":["e5cbcd36-a923-645b-dcdd-237572691c6a"]},{"name":"/Collection Pages/Fossils/Fossil Logic/Options","nodes":[{"id":"bb7af4ea-a348-d01d-733f-80e2609eeb3a","type":"Group","parameters":{},"ports":[],"children":[{"id":"a2c36107-711c-cb50-d61f-6b5b7628f152","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"cef9425b-7d84-f4c6-b6cb-735ae758153f","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"80e8e644-514c-af64-095e-5829262ba5ef","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"d7f616d9-59bc-0fc1-b51a-760bfd987732","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"id","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-ID"},{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"prop-Label","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-Label"},{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"prop-Checked","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-Checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-ID","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-ID"},{"sourceId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","sourcePort":"out-ID","targetId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","targetPort":"modelId"},{"sourceId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","sourcePort":"out-Checked","targetId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","targetPort":"prop-Checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Label","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Label"},{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"prop-Icon","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-Icon"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Icon","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Icon"},{"sourceId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","sourcePort":"stored","targetId":"d7f616d9-59bc-0fc1-b51a-760bfd987732","targetPort":"Selection Changed"},{"sourceId":"a2c36107-711c-cb50-d61f-6b5b7628f152","sourcePort":"onChange","targetId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","targetPort":"store"},{"sourceId":"a2c36107-711c-cb50-d61f-6b5b7628f152","sourcePort":"onChange","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Changed"},{"sourceId":"a2c36107-711c-cb50-d61f-6b5b7628f152","sourcePort":"checked","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Checked","targetId":"a2c36107-711c-cb50-d61f-6b5b7628f152","targetPort":"checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Label","targetId":"a2c36107-711c-cb50-d61f-6b5b7628f152","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["bb7af4ea-a348-d01d-733f-80e2609eeb3a"]},{"name":"/Collection Pages/Paintings/Paintings Logic/Options","nodes":[{"id":"f04a4e3c-8933-e63f-82c9-0934eb41e7e2","type":"Group","parameters":{},"ports":[],"children":[{"id":"6c009842-56f8-8d21-a523-a10a0441bcf8","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"d9e3f0da-4c07-596d-96a2-7172432e75ec","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"f2da0134-1fc5-da13-f90d-4c341c59239c","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"295b88fa-c3a4-487a-59d3-8ef82a897ef6","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"id","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-ID"},{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"prop-Label","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-Label"},{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"prop-Checked","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-Checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-ID","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-ID"},{"sourceId":"f2da0134-1fc5-da13-f90d-4c341c59239c","sourcePort":"out-ID","targetId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","targetPort":"modelId"},{"sourceId":"f2da0134-1fc5-da13-f90d-4c341c59239c","sourcePort":"out-Checked","targetId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","targetPort":"prop-Checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Label","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Label"},{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"prop-Icon","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-Icon"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Icon","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Icon"},{"sourceId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","sourcePort":"stored","targetId":"295b88fa-c3a4-487a-59d3-8ef82a897ef6","targetPort":"Selection Changed"},{"sourceId":"6c009842-56f8-8d21-a523-a10a0441bcf8","sourcePort":"onChange","targetId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","targetPort":"store"},{"sourceId":"6c009842-56f8-8d21-a523-a10a0441bcf8","sourcePort":"onChange","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Changed"},{"sourceId":"6c009842-56f8-8d21-a523-a10a0441bcf8","sourcePort":"checked","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Checked","targetId":"6c009842-56f8-8d21-a523-a10a0441bcf8","targetPort":"checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Label","targetId":"6c009842-56f8-8d21-a523-a10a0441bcf8","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["f04a4e3c-8933-e63f-82c9-0934eb41e7e2"]},{"name":"/Multi Choice With Pills/Pill","nodes":[{"id":"a8dc1828-f931-8dca-2232-28830d8b61c5","type":"Group","parameters":{"backgroundColor":"Primary","borderRadius":{"value":4,"unit":"px"},"sizeMode":"contentWidth","flexDirection":"row","paddingLeft":{"value":12,"unit":"px"},"height":{"value":28,"unit":"px"},"alignItems":"center","paddingRight":{"value":4,"unit":"px"},"marginBottom":{"value":4,"unit":"px"},"marginRight":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"90f22133-ba44-262e-74c1-6b440f46be0c","type":"Text","parameters":{"alignY":"center","color":"#FFFFFF","textStyle":"Label Medium"},"ports":[],"children":[]},{"id":"fcdb537a-7794-7916-bbf6-3ab726ccf99b","type":"net.noodl.controls.button","parameters":{"useIcon":true,"useLabel":false,"backgroundColor":"#5836F500","iconIconSource":{"class":"material-icons","code":"close"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"iconSize":{"value":16,"unit":"px"}},"ports":[],"children":[]}]},{"id":"785f189e-f2f9-325b-acfa-a60403c2bcd0","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"951c2517-6431-797d-6980-16d285aa222e","type":"SetModelProperties","parameters":{"properties":"Checked","type-Checked":"boolean","prop-Checked":false,"idSource":"foreach"},"ports":[],"children":[]},{"id":"d360d2fd-a5ef-2d8a-420e-a17f3dd14c52","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"fcdb537a-7794-7916-bbf6-3ab726ccf99b","sourcePort":"onClick","targetId":"951c2517-6431-797d-6980-16d285aa222e","targetPort":"store"},{"sourceId":"951c2517-6431-797d-6980-16d285aa222e","sourcePort":"stored","targetId":"d360d2fd-a5ef-2d8a-420e-a17f3dd14c52","targetPort":"Selection Changed"},{"sourceId":"785f189e-f2f9-325b-acfa-a60403c2bcd0","sourcePort":"Label","targetId":"90f22133-ba44-262e-74c1-6b440f46be0c","targetPort":"text"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1},{"name":"Label","type":{"name":"string","multiline":true},"default":"Text","group":"Text","plug":"input","index":1}],"roots":["a8dc1828-f931-8dca-2232-28830d8b61c5"],"metadata":{"canvasPos":{"x":2388.6230141451306,"y":96.64760895061303},"canvasSize":{"width":"112px","height":"auto"}}}]