[{"name":"/Collection Pages/Bugs/Bugs Logic/Options","nodes":[{"id":"a2716655-2805-1782-a132-a52d015381bf","type":"Group","parameters":{},"ports":[],"children":[{"id":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"85a7c883-b307-cbd5-bc03-401f63f39b66","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"8707d727-4fde-4c09-d515-0b9abe653cc1","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"id","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-ID"},{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"prop-Label","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-Label"},{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"prop-Checked","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-Checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-ID","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-ID"},{"sourceId":"85a7c883-b307-cbd5-bc03-401f63f39b66","sourcePort":"out-ID","targetId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","targetPort":"modelId"},{"sourceId":"85a7c883-b307-cbd5-bc03-401f63f39b66","sourcePort":"out-Checked","targetId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","targetPort":"prop-Checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Label","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Label"},{"sourceId":"2b40a527-e9c7-52b0-01e3-8cce097fb7f4","sourcePort":"prop-Icon","targetId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","targetPort":"in-Icon"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Icon","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Icon"},{"sourceId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","sourcePort":"stored","targetId":"8707d727-4fde-4c09-d515-0b9abe653cc1","targetPort":"Selection Changed"},{"sourceId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","sourcePort":"onChange","targetId":"e4dba217-2ff8-62fb-bc88-f6f37d5e1247","targetPort":"store"},{"sourceId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","sourcePort":"onChange","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Changed"},{"sourceId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","sourcePort":"checked","targetId":"85a7c883-b307-cbd5-bc03-401f63f39b66","targetPort":"in-Checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Checked","targetId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","targetPort":"checked"},{"sourceId":"e8cf0d92-2f45-e17a-5ac9-6aacc2c2215c","sourcePort":"out-Label","targetId":"9c387371-9b91-f6e3-1c0f-bca78260f3d3","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["a2716655-2805-1782-a132-a52d015381bf"]},{"name":"/Collection Pages/Clothing/Clothing Logic/Options","nodes":[{"id":"d15d1041-3bea-78c9-4e53-487a4862a8ad","type":"Group","parameters":{},"ports":[],"children":[{"id":"18dcba58-3f9c-1a9d-b231-473720fc6a93","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"8e5d1d63-4421-829f-4f04-2dd235f15209","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"287f7d34-3a40-f064-e87d-76b256219d16","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"4efed43f-606a-41e0-41ff-25cd3d40b1a2","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"8e5d1d63-4421-829f-4f04-2dd235f15209","sourcePort":"id","targetId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","targetPort":"in-ID"},{"sourceId":"8e5d1d63-4421-829f-4f04-2dd235f15209","sourcePort":"prop-Label","targetId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","targetPort":"in-Label"},{"sourceId":"8e5d1d63-4421-829f-4f04-2dd235f15209","sourcePort":"prop-Checked","targetId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","targetPort":"in-Checked"},{"sourceId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","sourcePort":"out-ID","targetId":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","targetPort":"in-ID"},{"sourceId":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","sourcePort":"out-ID","targetId":"287f7d34-3a40-f064-e87d-76b256219d16","targetPort":"modelId"},{"sourceId":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","sourcePort":"out-Checked","targetId":"287f7d34-3a40-f064-e87d-76b256219d16","targetPort":"prop-Checked"},{"sourceId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","sourcePort":"out-Label","targetId":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","targetPort":"in-Label"},{"sourceId":"8e5d1d63-4421-829f-4f04-2dd235f15209","sourcePort":"prop-Icon","targetId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","targetPort":"in-Icon"},{"sourceId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","sourcePort":"out-Icon","targetId":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","targetPort":"in-Icon"},{"sourceId":"287f7d34-3a40-f064-e87d-76b256219d16","sourcePort":"stored","targetId":"4efed43f-606a-41e0-41ff-25cd3d40b1a2","targetPort":"Selection Changed"},{"sourceId":"18dcba58-3f9c-1a9d-b231-473720fc6a93","sourcePort":"onChange","targetId":"287f7d34-3a40-f064-e87d-76b256219d16","targetPort":"store"},{"sourceId":"18dcba58-3f9c-1a9d-b231-473720fc6a93","sourcePort":"onChange","targetId":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","targetPort":"in-Changed"},{"sourceId":"18dcba58-3f9c-1a9d-b231-473720fc6a93","sourcePort":"checked","targetId":"95d59c56-12e4-b6fb-053f-3c6b6c229aeb","targetPort":"in-Checked"},{"sourceId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","sourcePort":"out-Checked","targetId":"18dcba58-3f9c-1a9d-b231-473720fc6a93","targetPort":"checked"},{"sourceId":"3e1fd19b-3e0a-8ec5-3ea7-5f10733a3ac1","sourcePort":"out-Label","targetId":"18dcba58-3f9c-1a9d-b231-473720fc6a93","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["d15d1041-3bea-78c9-4e53-487a4862a8ad"]},{"name":"/Collection Pages/Fish/Fish Logic/Options","nodes":[{"id":"4931c1cc-5485-e667-3f5d-d97217875082","type":"Group","parameters":{},"ports":[],"children":[{"id":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"3c92213b-4f67-6761-32dc-51a2c3893954","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"73be9741-8110-71a4-db80-69d6f265bd43","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"fd95931f-2cf2-7b87-578c-1ad965fcfb69","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"id","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-ID"},{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"prop-Label","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-Label"},{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"prop-Checked","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-Checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-ID","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-ID"},{"sourceId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","sourcePort":"out-ID","targetId":"3c92213b-4f67-6761-32dc-51a2c3893954","targetPort":"modelId"},{"sourceId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","sourcePort":"out-Checked","targetId":"3c92213b-4f67-6761-32dc-51a2c3893954","targetPort":"prop-Checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Label","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Label"},{"sourceId":"4ac86bd0-70c3-2413-bd9a-94505a0939eb","sourcePort":"prop-Icon","targetId":"73be9741-8110-71a4-db80-69d6f265bd43","targetPort":"in-Icon"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Icon","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Icon"},{"sourceId":"3c92213b-4f67-6761-32dc-51a2c3893954","sourcePort":"stored","targetId":"fd95931f-2cf2-7b87-578c-1ad965fcfb69","targetPort":"Selection Changed"},{"sourceId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","sourcePort":"onChange","targetId":"3c92213b-4f67-6761-32dc-51a2c3893954","targetPort":"store"},{"sourceId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","sourcePort":"onChange","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Changed"},{"sourceId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","sourcePort":"checked","targetId":"ad655e37-c5e9-9b54-043e-d3e04d46f8cc","targetPort":"in-Checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Checked","targetId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","targetPort":"checked"},{"sourceId":"73be9741-8110-71a4-db80-69d6f265bd43","sourcePort":"out-Label","targetId":"38990b24-b2f7-0c4c-1d6d-f92658f52c35","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["4931c1cc-5485-e667-3f5d-d97217875082"]},{"name":"/Collection Pages/Fossils/Fossil Logic/Options","nodes":[{"id":"bb7af4ea-a348-d01d-733f-80e2609eeb3a","type":"Group","parameters":{},"ports":[],"children":[{"id":"a2c36107-711c-cb50-d61f-6b5b7628f152","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"cef9425b-7d84-f4c6-b6cb-735ae758153f","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"80e8e644-514c-af64-095e-5829262ba5ef","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"d7f616d9-59bc-0fc1-b51a-760bfd987732","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"id","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-ID"},{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"prop-Label","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-Label"},{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"prop-Checked","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-Checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-ID","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-ID"},{"sourceId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","sourcePort":"out-ID","targetId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","targetPort":"modelId"},{"sourceId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","sourcePort":"out-Checked","targetId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","targetPort":"prop-Checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Label","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Label"},{"sourceId":"cef9425b-7d84-f4c6-b6cb-735ae758153f","sourcePort":"prop-Icon","targetId":"80e8e644-514c-af64-095e-5829262ba5ef","targetPort":"in-Icon"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Icon","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Icon"},{"sourceId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","sourcePort":"stored","targetId":"d7f616d9-59bc-0fc1-b51a-760bfd987732","targetPort":"Selection Changed"},{"sourceId":"a2c36107-711c-cb50-d61f-6b5b7628f152","sourcePort":"onChange","targetId":"9b830b36-3062-d7ef-e2e3-8ee6b2ef697a","targetPort":"store"},{"sourceId":"a2c36107-711c-cb50-d61f-6b5b7628f152","sourcePort":"onChange","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Changed"},{"sourceId":"a2c36107-711c-cb50-d61f-6b5b7628f152","sourcePort":"checked","targetId":"08cba5b7-751e-1542-b2e9-8e94fe539ffc","targetPort":"in-Checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Checked","targetId":"a2c36107-711c-cb50-d61f-6b5b7628f152","targetPort":"checked"},{"sourceId":"80e8e644-514c-af64-095e-5829262ba5ef","sourcePort":"out-Label","targetId":"a2c36107-711c-cb50-d61f-6b5b7628f152","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["bb7af4ea-a348-d01d-733f-80e2609eeb3a"]},{"name":"/Collection Pages/Fruit/Fruit Logic/Options","nodes":[{"id":"82c8fd70-51b7-436a-c23f-2ae78b3e0f53","type":"Group","parameters":{},"ports":[],"children":[{"id":"305bd552-6cf2-5396-7d88-8e55b77fccfe","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"28783a73-c64d-af8b-f5d2-6ac844157699","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"65793f62-9844-9815-2ccf-2e875ab2b8dd","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"46070232-5719-aa70-2e28-fc58a33c3e97","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"499d0ab2-ece5-4303-e08c-22f5a0c274b7","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"28783a73-c64d-af8b-f5d2-6ac844157699","sourcePort":"id","targetId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","targetPort":"in-ID"},{"sourceId":"28783a73-c64d-af8b-f5d2-6ac844157699","sourcePort":"prop-Label","targetId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","targetPort":"in-Label"},{"sourceId":"28783a73-c64d-af8b-f5d2-6ac844157699","sourcePort":"prop-Checked","targetId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","targetPort":"in-Checked"},{"sourceId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","sourcePort":"out-ID","targetId":"46070232-5719-aa70-2e28-fc58a33c3e97","targetPort":"in-ID"},{"sourceId":"46070232-5719-aa70-2e28-fc58a33c3e97","sourcePort":"out-ID","targetId":"65793f62-9844-9815-2ccf-2e875ab2b8dd","targetPort":"modelId"},{"sourceId":"46070232-5719-aa70-2e28-fc58a33c3e97","sourcePort":"out-Checked","targetId":"65793f62-9844-9815-2ccf-2e875ab2b8dd","targetPort":"prop-Checked"},{"sourceId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","sourcePort":"out-Label","targetId":"46070232-5719-aa70-2e28-fc58a33c3e97","targetPort":"in-Label"},{"sourceId":"28783a73-c64d-af8b-f5d2-6ac844157699","sourcePort":"prop-Icon","targetId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","targetPort":"in-Icon"},{"sourceId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","sourcePort":"out-Icon","targetId":"46070232-5719-aa70-2e28-fc58a33c3e97","targetPort":"in-Icon"},{"sourceId":"65793f62-9844-9815-2ccf-2e875ab2b8dd","sourcePort":"stored","targetId":"499d0ab2-ece5-4303-e08c-22f5a0c274b7","targetPort":"Selection Changed"},{"sourceId":"305bd552-6cf2-5396-7d88-8e55b77fccfe","sourcePort":"onChange","targetId":"65793f62-9844-9815-2ccf-2e875ab2b8dd","targetPort":"store"},{"sourceId":"305bd552-6cf2-5396-7d88-8e55b77fccfe","sourcePort":"onChange","targetId":"46070232-5719-aa70-2e28-fc58a33c3e97","targetPort":"in-Changed"},{"sourceId":"305bd552-6cf2-5396-7d88-8e55b77fccfe","sourcePort":"checked","targetId":"46070232-5719-aa70-2e28-fc58a33c3e97","targetPort":"in-Checked"},{"sourceId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","sourcePort":"out-Checked","targetId":"305bd552-6cf2-5396-7d88-8e55b77fccfe","targetPort":"checked"},{"sourceId":"a31e2209-ff83-d5ef-710c-6e51524bc0a5","sourcePort":"out-Label","targetId":"305bd552-6cf2-5396-7d88-8e55b77fccfe","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["82c8fd70-51b7-436a-c23f-2ae78b3e0f53"]},{"name":"/Collection Pages/Furniture/Animal Island/Animal Island Logic/Options","nodes":[{"id":"57f24019-8cdf-dafc-541e-200d7fadfeb9","type":"Group","parameters":{},"ports":[],"children":[{"id":"dc549fd1-b47a-230d-7f31-7b5a9d7c099d","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"7e6101dc-116e-eadc-0e13-43850da71abc","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"a5f4e4a9-2bb6-0cb5-2865-7d8acdffb8b4","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"8c504d30-8d89-16e0-ead9-288a67874ba6","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"faa4533c-ccb3-a23f-c02c-00b1b77df467","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"7e6101dc-116e-eadc-0e13-43850da71abc","sourcePort":"id","targetId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","targetPort":"in-ID"},{"sourceId":"7e6101dc-116e-eadc-0e13-43850da71abc","sourcePort":"prop-Label","targetId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","targetPort":"in-Label"},{"sourceId":"7e6101dc-116e-eadc-0e13-43850da71abc","sourcePort":"prop-Checked","targetId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","targetPort":"in-Checked"},{"sourceId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","sourcePort":"out-ID","targetId":"8c504d30-8d89-16e0-ead9-288a67874ba6","targetPort":"in-ID"},{"sourceId":"8c504d30-8d89-16e0-ead9-288a67874ba6","sourcePort":"out-ID","targetId":"a5f4e4a9-2bb6-0cb5-2865-7d8acdffb8b4","targetPort":"modelId"},{"sourceId":"8c504d30-8d89-16e0-ead9-288a67874ba6","sourcePort":"out-Checked","targetId":"a5f4e4a9-2bb6-0cb5-2865-7d8acdffb8b4","targetPort":"prop-Checked"},{"sourceId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","sourcePort":"out-Label","targetId":"8c504d30-8d89-16e0-ead9-288a67874ba6","targetPort":"in-Label"},{"sourceId":"7e6101dc-116e-eadc-0e13-43850da71abc","sourcePort":"prop-Icon","targetId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","targetPort":"in-Icon"},{"sourceId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","sourcePort":"out-Icon","targetId":"8c504d30-8d89-16e0-ead9-288a67874ba6","targetPort":"in-Icon"},{"sourceId":"a5f4e4a9-2bb6-0cb5-2865-7d8acdffb8b4","sourcePort":"stored","targetId":"faa4533c-ccb3-a23f-c02c-00b1b77df467","targetPort":"Selection Changed"},{"sourceId":"dc549fd1-b47a-230d-7f31-7b5a9d7c099d","sourcePort":"onChange","targetId":"a5f4e4a9-2bb6-0cb5-2865-7d8acdffb8b4","targetPort":"store"},{"sourceId":"dc549fd1-b47a-230d-7f31-7b5a9d7c099d","sourcePort":"onChange","targetId":"8c504d30-8d89-16e0-ead9-288a67874ba6","targetPort":"in-Changed"},{"sourceId":"dc549fd1-b47a-230d-7f31-7b5a9d7c099d","sourcePort":"checked","targetId":"8c504d30-8d89-16e0-ead9-288a67874ba6","targetPort":"in-Checked"},{"sourceId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","sourcePort":"out-Checked","targetId":"dc549fd1-b47a-230d-7f31-7b5a9d7c099d","targetPort":"checked"},{"sourceId":"302cb7ff-945d-fcd5-bb1d-dfc3b6dc298d","sourcePort":"out-Label","targetId":"dc549fd1-b47a-230d-7f31-7b5a9d7c099d","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["57f24019-8cdf-dafc-541e-200d7fadfeb9"]},{"name":"/Collection Pages/Furniture/Gulliver/Gulliver Logic/Options","nodes":[{"id":"a3d77685-cab1-32f7-a829-1031d7746396","type":"Group","parameters":{},"ports":[],"children":[{"id":"dedca577-4d5c-8fdd-3863-c73693e3e7be","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"200bd492-103a-c154-e673-dd9d82b8429b","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"a7d97115-e1b8-2843-66c8-0deba294920e","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"af165063-facd-8645-7a19-e29899fb7187","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"8e3da480-cf59-0d39-60ca-30dd0e4448c3","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"200bd492-103a-c154-e673-dd9d82b8429b","sourcePort":"id","targetId":"af165063-facd-8645-7a19-e29899fb7187","targetPort":"in-ID"},{"sourceId":"200bd492-103a-c154-e673-dd9d82b8429b","sourcePort":"prop-Label","targetId":"af165063-facd-8645-7a19-e29899fb7187","targetPort":"in-Label"},{"sourceId":"200bd492-103a-c154-e673-dd9d82b8429b","sourcePort":"prop-Checked","targetId":"af165063-facd-8645-7a19-e29899fb7187","targetPort":"in-Checked"},{"sourceId":"af165063-facd-8645-7a19-e29899fb7187","sourcePort":"out-ID","targetId":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","targetPort":"in-ID"},{"sourceId":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","sourcePort":"out-ID","targetId":"a7d97115-e1b8-2843-66c8-0deba294920e","targetPort":"modelId"},{"sourceId":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","sourcePort":"out-Checked","targetId":"a7d97115-e1b8-2843-66c8-0deba294920e","targetPort":"prop-Checked"},{"sourceId":"af165063-facd-8645-7a19-e29899fb7187","sourcePort":"out-Label","targetId":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","targetPort":"in-Label"},{"sourceId":"200bd492-103a-c154-e673-dd9d82b8429b","sourcePort":"prop-Icon","targetId":"af165063-facd-8645-7a19-e29899fb7187","targetPort":"in-Icon"},{"sourceId":"af165063-facd-8645-7a19-e29899fb7187","sourcePort":"out-Icon","targetId":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","targetPort":"in-Icon"},{"sourceId":"a7d97115-e1b8-2843-66c8-0deba294920e","sourcePort":"stored","targetId":"8e3da480-cf59-0d39-60ca-30dd0e4448c3","targetPort":"Selection Changed"},{"sourceId":"dedca577-4d5c-8fdd-3863-c73693e3e7be","sourcePort":"onChange","targetId":"a7d97115-e1b8-2843-66c8-0deba294920e","targetPort":"store"},{"sourceId":"dedca577-4d5c-8fdd-3863-c73693e3e7be","sourcePort":"onChange","targetId":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","targetPort":"in-Changed"},{"sourceId":"dedca577-4d5c-8fdd-3863-c73693e3e7be","sourcePort":"checked","targetId":"62f44ed9-edec-6145-1f5d-5c5dd73ba69e","targetPort":"in-Checked"},{"sourceId":"af165063-facd-8645-7a19-e29899fb7187","sourcePort":"out-Checked","targetId":"dedca577-4d5c-8fdd-3863-c73693e3e7be","targetPort":"checked"},{"sourceId":"af165063-facd-8645-7a19-e29899fb7187","sourcePort":"out-Label","targetId":"dedca577-4d5c-8fdd-3863-c73693e3e7be","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["a3d77685-cab1-32f7-a829-1031d7746396"]},{"name":"/Collection Pages/Furniture/Halloween/Halloween Logic/Options","nodes":[{"id":"3827b4a4-86fd-6424-57b6-5282c7869c16","type":"Group","parameters":{},"ports":[],"children":[{"id":"a315bfee-26d6-a9fc-62cd-7ded4e11e069","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"d0306867-8bc6-0b31-224e-b9e374f0c264","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"61cfe488-ac09-7c9b-e1c1-e4339775a4d0","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"c407c8fe-aa36-5d17-4359-4df183b82f3b","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"11bc2fb6-98df-cbf7-7149-5cae90b3499e","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d0306867-8bc6-0b31-224e-b9e374f0c264","sourcePort":"id","targetId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","targetPort":"in-ID"},{"sourceId":"d0306867-8bc6-0b31-224e-b9e374f0c264","sourcePort":"prop-Label","targetId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","targetPort":"in-Label"},{"sourceId":"d0306867-8bc6-0b31-224e-b9e374f0c264","sourcePort":"prop-Checked","targetId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","targetPort":"in-Checked"},{"sourceId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","sourcePort":"out-ID","targetId":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","targetPort":"in-ID"},{"sourceId":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","sourcePort":"out-ID","targetId":"61cfe488-ac09-7c9b-e1c1-e4339775a4d0","targetPort":"modelId"},{"sourceId":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","sourcePort":"out-Checked","targetId":"61cfe488-ac09-7c9b-e1c1-e4339775a4d0","targetPort":"prop-Checked"},{"sourceId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","sourcePort":"out-Label","targetId":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","targetPort":"in-Label"},{"sourceId":"d0306867-8bc6-0b31-224e-b9e374f0c264","sourcePort":"prop-Icon","targetId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","targetPort":"in-Icon"},{"sourceId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","sourcePort":"out-Icon","targetId":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","targetPort":"in-Icon"},{"sourceId":"61cfe488-ac09-7c9b-e1c1-e4339775a4d0","sourcePort":"stored","targetId":"11bc2fb6-98df-cbf7-7149-5cae90b3499e","targetPort":"Selection Changed"},{"sourceId":"a315bfee-26d6-a9fc-62cd-7ded4e11e069","sourcePort":"onChange","targetId":"61cfe488-ac09-7c9b-e1c1-e4339775a4d0","targetPort":"store"},{"sourceId":"a315bfee-26d6-a9fc-62cd-7ded4e11e069","sourcePort":"onChange","targetId":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","targetPort":"in-Changed"},{"sourceId":"a315bfee-26d6-a9fc-62cd-7ded4e11e069","sourcePort":"checked","targetId":"5ecc2d3e-49b8-3719-bbf9-35dc4f1e89c1","targetPort":"in-Checked"},{"sourceId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","sourcePort":"out-Checked","targetId":"a315bfee-26d6-a9fc-62cd-7ded4e11e069","targetPort":"checked"},{"sourceId":"c407c8fe-aa36-5d17-4359-4df183b82f3b","sourcePort":"out-Label","targetId":"a315bfee-26d6-a9fc-62cd-7ded4e11e069","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["3827b4a4-86fd-6424-57b6-5282c7869c16"]},{"name":"/Collection Pages/Furniture/Harvest/Harvest Logic/Options","nodes":[{"id":"8e07901b-9a54-9de5-2d91-7205653e1632","type":"Group","parameters":{},"ports":[],"children":[{"id":"92c1c40c-5f67-b762-0aed-d8b2ac147a78","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"d26fe29e-e2a1-e092-a7e4-bc0d3df57727","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"9c27e5ff-4590-a39e-942a-957ac19bcba1","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"6a87e6f4-e251-b87e-ac64-037b183e6c45","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"a389bf15-8c13-5160-c364-bb924b5463e8","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"f1dd050a-1512-7b0c-f6bc-fdf8222a9555","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d26fe29e-e2a1-e092-a7e4-bc0d3df57727","sourcePort":"id","targetId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","targetPort":"in-ID"},{"sourceId":"d26fe29e-e2a1-e092-a7e4-bc0d3df57727","sourcePort":"prop-Label","targetId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","targetPort":"in-Label"},{"sourceId":"d26fe29e-e2a1-e092-a7e4-bc0d3df57727","sourcePort":"prop-Checked","targetId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","targetPort":"in-Checked"},{"sourceId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","sourcePort":"out-ID","targetId":"a389bf15-8c13-5160-c364-bb924b5463e8","targetPort":"in-ID"},{"sourceId":"a389bf15-8c13-5160-c364-bb924b5463e8","sourcePort":"out-ID","targetId":"9c27e5ff-4590-a39e-942a-957ac19bcba1","targetPort":"modelId"},{"sourceId":"a389bf15-8c13-5160-c364-bb924b5463e8","sourcePort":"out-Checked","targetId":"9c27e5ff-4590-a39e-942a-957ac19bcba1","targetPort":"prop-Checked"},{"sourceId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","sourcePort":"out-Label","targetId":"a389bf15-8c13-5160-c364-bb924b5463e8","targetPort":"in-Label"},{"sourceId":"d26fe29e-e2a1-e092-a7e4-bc0d3df57727","sourcePort":"prop-Icon","targetId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","targetPort":"in-Icon"},{"sourceId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","sourcePort":"out-Icon","targetId":"a389bf15-8c13-5160-c364-bb924b5463e8","targetPort":"in-Icon"},{"sourceId":"9c27e5ff-4590-a39e-942a-957ac19bcba1","sourcePort":"stored","targetId":"f1dd050a-1512-7b0c-f6bc-fdf8222a9555","targetPort":"Selection Changed"},{"sourceId":"92c1c40c-5f67-b762-0aed-d8b2ac147a78","sourcePort":"onChange","targetId":"9c27e5ff-4590-a39e-942a-957ac19bcba1","targetPort":"store"},{"sourceId":"92c1c40c-5f67-b762-0aed-d8b2ac147a78","sourcePort":"onChange","targetId":"a389bf15-8c13-5160-c364-bb924b5463e8","targetPort":"in-Changed"},{"sourceId":"92c1c40c-5f67-b762-0aed-d8b2ac147a78","sourcePort":"checked","targetId":"a389bf15-8c13-5160-c364-bb924b5463e8","targetPort":"in-Checked"},{"sourceId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","sourcePort":"out-Checked","targetId":"92c1c40c-5f67-b762-0aed-d8b2ac147a78","targetPort":"checked"},{"sourceId":"6a87e6f4-e251-b87e-ac64-037b183e6c45","sourcePort":"out-Label","targetId":"92c1c40c-5f67-b762-0aed-d8b2ac147a78","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["8e07901b-9a54-9de5-2d91-7205653e1632"]},{"name":"/Collection Pages/Furniture/Igloo/Igloo Logic/Options","nodes":[{"id":"731acf8a-50de-733c-db7a-9242040735fc","type":"Group","parameters":{},"ports":[],"children":[{"id":"d06e7685-ad47-20a1-a095-c9231d4214a0","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"c3634410-5105-315b-5501-d7a5b492c9d5","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"eb33a175-64b5-0e19-4145-6ad025f00e07","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"a633b1ef-5429-f24e-4449-0f8402c81956","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"5eda15d3-d6e0-bc61-0d5e-1383a8daffeb","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"c3634410-5105-315b-5501-d7a5b492c9d5","sourcePort":"id","targetId":"a633b1ef-5429-f24e-4449-0f8402c81956","targetPort":"in-ID"},{"sourceId":"c3634410-5105-315b-5501-d7a5b492c9d5","sourcePort":"prop-Label","targetId":"a633b1ef-5429-f24e-4449-0f8402c81956","targetPort":"in-Label"},{"sourceId":"c3634410-5105-315b-5501-d7a5b492c9d5","sourcePort":"prop-Checked","targetId":"a633b1ef-5429-f24e-4449-0f8402c81956","targetPort":"in-Checked"},{"sourceId":"a633b1ef-5429-f24e-4449-0f8402c81956","sourcePort":"out-ID","targetId":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","targetPort":"in-ID"},{"sourceId":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","sourcePort":"out-ID","targetId":"eb33a175-64b5-0e19-4145-6ad025f00e07","targetPort":"modelId"},{"sourceId":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","sourcePort":"out-Checked","targetId":"eb33a175-64b5-0e19-4145-6ad025f00e07","targetPort":"prop-Checked"},{"sourceId":"a633b1ef-5429-f24e-4449-0f8402c81956","sourcePort":"out-Label","targetId":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","targetPort":"in-Label"},{"sourceId":"c3634410-5105-315b-5501-d7a5b492c9d5","sourcePort":"prop-Icon","targetId":"a633b1ef-5429-f24e-4449-0f8402c81956","targetPort":"in-Icon"},{"sourceId":"a633b1ef-5429-f24e-4449-0f8402c81956","sourcePort":"out-Icon","targetId":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","targetPort":"in-Icon"},{"sourceId":"eb33a175-64b5-0e19-4145-6ad025f00e07","sourcePort":"stored","targetId":"5eda15d3-d6e0-bc61-0d5e-1383a8daffeb","targetPort":"Selection Changed"},{"sourceId":"d06e7685-ad47-20a1-a095-c9231d4214a0","sourcePort":"onChange","targetId":"eb33a175-64b5-0e19-4145-6ad025f00e07","targetPort":"store"},{"sourceId":"d06e7685-ad47-20a1-a095-c9231d4214a0","sourcePort":"onChange","targetId":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","targetPort":"in-Changed"},{"sourceId":"d06e7685-ad47-20a1-a095-c9231d4214a0","sourcePort":"checked","targetId":"9fb7c7f3-eb27-29db-5b15-20f5b9c9ca6f","targetPort":"in-Checked"},{"sourceId":"a633b1ef-5429-f24e-4449-0f8402c81956","sourcePort":"out-Checked","targetId":"d06e7685-ad47-20a1-a095-c9231d4214a0","targetPort":"checked"},{"sourceId":"a633b1ef-5429-f24e-4449-0f8402c81956","sourcePort":"out-Label","targetId":"d06e7685-ad47-20a1-a095-c9231d4214a0","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["731acf8a-50de-733c-db7a-9242040735fc"]},{"name":"/Collection Pages/Furniture/Miscellaneous/Miscellaneous Logic/Options","nodes":[{"id":"9f6a7b0b-19fc-dcfd-ffc5-ca1567110c84","type":"Group","parameters":{},"ports":[],"children":[{"id":"7a3c423d-f6e1-14bc-0dd0-952b1924df5f","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"ff6209ba-0ac0-a20e-3561-4e99c678d0df","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"2a38f76e-cb2d-cafc-c9a3-ad2c4d458e23","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"315432d2-9431-62a6-dba6-d9636101bb5a","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"ff6209ba-0ac0-a20e-3561-4e99c678d0df","sourcePort":"id","targetId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","targetPort":"in-ID"},{"sourceId":"ff6209ba-0ac0-a20e-3561-4e99c678d0df","sourcePort":"prop-Label","targetId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","targetPort":"in-Label"},{"sourceId":"ff6209ba-0ac0-a20e-3561-4e99c678d0df","sourcePort":"prop-Checked","targetId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","targetPort":"in-Checked"},{"sourceId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","sourcePort":"out-ID","targetId":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","targetPort":"in-ID"},{"sourceId":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","sourcePort":"out-ID","targetId":"2a38f76e-cb2d-cafc-c9a3-ad2c4d458e23","targetPort":"modelId"},{"sourceId":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","sourcePort":"out-Checked","targetId":"2a38f76e-cb2d-cafc-c9a3-ad2c4d458e23","targetPort":"prop-Checked"},{"sourceId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","sourcePort":"out-Label","targetId":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","targetPort":"in-Label"},{"sourceId":"ff6209ba-0ac0-a20e-3561-4e99c678d0df","sourcePort":"prop-Icon","targetId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","targetPort":"in-Icon"},{"sourceId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","sourcePort":"out-Icon","targetId":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","targetPort":"in-Icon"},{"sourceId":"2a38f76e-cb2d-cafc-c9a3-ad2c4d458e23","sourcePort":"stored","targetId":"315432d2-9431-62a6-dba6-d9636101bb5a","targetPort":"Selection Changed"},{"sourceId":"7a3c423d-f6e1-14bc-0dd0-952b1924df5f","sourcePort":"onChange","targetId":"2a38f76e-cb2d-cafc-c9a3-ad2c4d458e23","targetPort":"store"},{"sourceId":"7a3c423d-f6e1-14bc-0dd0-952b1924df5f","sourcePort":"onChange","targetId":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","targetPort":"in-Changed"},{"sourceId":"7a3c423d-f6e1-14bc-0dd0-952b1924df5f","sourcePort":"checked","targetId":"5ba6c6cd-28bc-d994-ed55-4ae15a567796","targetPort":"in-Checked"},{"sourceId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","sourcePort":"out-Checked","targetId":"7a3c423d-f6e1-14bc-0dd0-952b1924df5f","targetPort":"checked"},{"sourceId":"5b68f07e-dcd8-8332-4e77-ebfd962f8027","sourcePort":"out-Label","targetId":"7a3c423d-f6e1-14bc-0dd0-952b1924df5f","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["9f6a7b0b-19fc-dcfd-ffc5-ca1567110c84"]},{"name":"/Collection Pages/Furniture/Nook Store/Nook Store Logic/Options","nodes":[{"id":"029ed306-9f3e-60fa-7996-6efcc9fdab42","type":"Group","parameters":{},"ports":[],"children":[{"id":"b149f2dc-6b42-26d8-894d-eead7429087b","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"e2c8703b-c0fc-acd9-50be-05bfe4b0fd95","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"423c3b6d-966c-3b2a-6525-96fe7152148a","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"218f5b37-0612-48a8-cf65-6ef2d2c38048","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"56b6b201-3d47-df41-4abc-cf40efd01c4f","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"8618527b-615c-5844-7f76-d0b05f0c48d6","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"e2c8703b-c0fc-acd9-50be-05bfe4b0fd95","sourcePort":"id","targetId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","targetPort":"in-ID"},{"sourceId":"e2c8703b-c0fc-acd9-50be-05bfe4b0fd95","sourcePort":"prop-Label","targetId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","targetPort":"in-Label"},{"sourceId":"e2c8703b-c0fc-acd9-50be-05bfe4b0fd95","sourcePort":"prop-Checked","targetId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","targetPort":"in-Checked"},{"sourceId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","sourcePort":"out-ID","targetId":"56b6b201-3d47-df41-4abc-cf40efd01c4f","targetPort":"in-ID"},{"sourceId":"56b6b201-3d47-df41-4abc-cf40efd01c4f","sourcePort":"out-ID","targetId":"423c3b6d-966c-3b2a-6525-96fe7152148a","targetPort":"modelId"},{"sourceId":"56b6b201-3d47-df41-4abc-cf40efd01c4f","sourcePort":"out-Checked","targetId":"423c3b6d-966c-3b2a-6525-96fe7152148a","targetPort":"prop-Checked"},{"sourceId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","sourcePort":"out-Label","targetId":"56b6b201-3d47-df41-4abc-cf40efd01c4f","targetPort":"in-Label"},{"sourceId":"e2c8703b-c0fc-acd9-50be-05bfe4b0fd95","sourcePort":"prop-Icon","targetId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","targetPort":"in-Icon"},{"sourceId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","sourcePort":"out-Icon","targetId":"56b6b201-3d47-df41-4abc-cf40efd01c4f","targetPort":"in-Icon"},{"sourceId":"423c3b6d-966c-3b2a-6525-96fe7152148a","sourcePort":"stored","targetId":"8618527b-615c-5844-7f76-d0b05f0c48d6","targetPort":"Selection Changed"},{"sourceId":"b149f2dc-6b42-26d8-894d-eead7429087b","sourcePort":"onChange","targetId":"423c3b6d-966c-3b2a-6525-96fe7152148a","targetPort":"store"},{"sourceId":"b149f2dc-6b42-26d8-894d-eead7429087b","sourcePort":"onChange","targetId":"56b6b201-3d47-df41-4abc-cf40efd01c4f","targetPort":"in-Changed"},{"sourceId":"b149f2dc-6b42-26d8-894d-eead7429087b","sourcePort":"checked","targetId":"56b6b201-3d47-df41-4abc-cf40efd01c4f","targetPort":"in-Checked"},{"sourceId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","sourcePort":"out-Checked","targetId":"b149f2dc-6b42-26d8-894d-eead7429087b","targetPort":"checked"},{"sourceId":"218f5b37-0612-48a8-cf65-6ef2d2c38048","sourcePort":"out-Label","targetId":"b149f2dc-6b42-26d8-894d-eead7429087b","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["029ed306-9f3e-60fa-7996-6efcc9fdab42"]},{"name":"/Collection Pages/Furniture/Raffle/Raffle Logic/Options","nodes":[{"id":"ff8bf09d-6ceb-f3f8-a274-8d36f20b21c1","type":"Group","parameters":{},"ports":[],"children":[{"id":"fabde4dd-cae6-ef7e-4392-283c7e2f1f91","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"8df19b0c-60da-7100-a387-378f02d65e70","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"4f73f0ba-8366-e095-7ce7-067c55ab6129","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"d9f08918-bdb2-6ce1-2737-a8c24ab66b72","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"8df19b0c-60da-7100-a387-378f02d65e70","sourcePort":"id","targetId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","targetPort":"in-ID"},{"sourceId":"8df19b0c-60da-7100-a387-378f02d65e70","sourcePort":"prop-Label","targetId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","targetPort":"in-Label"},{"sourceId":"8df19b0c-60da-7100-a387-378f02d65e70","sourcePort":"prop-Checked","targetId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","targetPort":"in-Checked"},{"sourceId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","sourcePort":"out-ID","targetId":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","targetPort":"in-ID"},{"sourceId":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","sourcePort":"out-ID","targetId":"4f73f0ba-8366-e095-7ce7-067c55ab6129","targetPort":"modelId"},{"sourceId":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","sourcePort":"out-Checked","targetId":"4f73f0ba-8366-e095-7ce7-067c55ab6129","targetPort":"prop-Checked"},{"sourceId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","sourcePort":"out-Label","targetId":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","targetPort":"in-Label"},{"sourceId":"8df19b0c-60da-7100-a387-378f02d65e70","sourcePort":"prop-Icon","targetId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","targetPort":"in-Icon"},{"sourceId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","sourcePort":"out-Icon","targetId":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","targetPort":"in-Icon"},{"sourceId":"4f73f0ba-8366-e095-7ce7-067c55ab6129","sourcePort":"stored","targetId":"d9f08918-bdb2-6ce1-2737-a8c24ab66b72","targetPort":"Selection Changed"},{"sourceId":"fabde4dd-cae6-ef7e-4392-283c7e2f1f91","sourcePort":"onChange","targetId":"4f73f0ba-8366-e095-7ce7-067c55ab6129","targetPort":"store"},{"sourceId":"fabde4dd-cae6-ef7e-4392-283c7e2f1f91","sourcePort":"onChange","targetId":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","targetPort":"in-Changed"},{"sourceId":"fabde4dd-cae6-ef7e-4392-283c7e2f1f91","sourcePort":"checked","targetId":"2c73b06e-5b8f-3645-40ac-8601a2af77c8","targetPort":"in-Checked"},{"sourceId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","sourcePort":"out-Checked","targetId":"fabde4dd-cae6-ef7e-4392-283c7e2f1f91","targetPort":"checked"},{"sourceId":"eb6ff4b6-9df8-e95c-25e4-3dbb3077fe35","sourcePort":"out-Label","targetId":"fabde4dd-cae6-ef7e-4392-283c7e2f1f91","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["ff8bf09d-6ceb-f3f8-a274-8d36f20b21c1"]},{"name":"/Collection Pages/Furniture/Redd/Redd Logic Painting/Options","nodes":[{"id":"cdce4b3a-5a09-adea-6bbe-cfd052af0dd9","type":"Group","parameters":{},"ports":[],"children":[{"id":"329e2b13-ab38-eabb-de3c-c03f818eab04","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"770092e7-20aa-07ff-5f1c-036561debcea","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"d8079ab4-3940-cb83-40f5-55220480629c","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"1026fe30-b16e-9151-dd45-fc352bd9c01e","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"e1c40586-2001-8034-120b-144d13a359be","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"b02239eb-dcb3-4566-5039-939c6d0c7196","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"770092e7-20aa-07ff-5f1c-036561debcea","sourcePort":"id","targetId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","targetPort":"in-ID"},{"sourceId":"770092e7-20aa-07ff-5f1c-036561debcea","sourcePort":"prop-Label","targetId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","targetPort":"in-Label"},{"sourceId":"770092e7-20aa-07ff-5f1c-036561debcea","sourcePort":"prop-Checked","targetId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","targetPort":"in-Checked"},{"sourceId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","sourcePort":"out-ID","targetId":"e1c40586-2001-8034-120b-144d13a359be","targetPort":"in-ID"},{"sourceId":"e1c40586-2001-8034-120b-144d13a359be","sourcePort":"out-ID","targetId":"d8079ab4-3940-cb83-40f5-55220480629c","targetPort":"modelId"},{"sourceId":"e1c40586-2001-8034-120b-144d13a359be","sourcePort":"out-Checked","targetId":"d8079ab4-3940-cb83-40f5-55220480629c","targetPort":"prop-Checked"},{"sourceId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","sourcePort":"out-Label","targetId":"e1c40586-2001-8034-120b-144d13a359be","targetPort":"in-Label"},{"sourceId":"770092e7-20aa-07ff-5f1c-036561debcea","sourcePort":"prop-Icon","targetId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","targetPort":"in-Icon"},{"sourceId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","sourcePort":"out-Icon","targetId":"e1c40586-2001-8034-120b-144d13a359be","targetPort":"in-Icon"},{"sourceId":"d8079ab4-3940-cb83-40f5-55220480629c","sourcePort":"stored","targetId":"b02239eb-dcb3-4566-5039-939c6d0c7196","targetPort":"Selection Changed"},{"sourceId":"329e2b13-ab38-eabb-de3c-c03f818eab04","sourcePort":"onChange","targetId":"d8079ab4-3940-cb83-40f5-55220480629c","targetPort":"store"},{"sourceId":"329e2b13-ab38-eabb-de3c-c03f818eab04","sourcePort":"onChange","targetId":"e1c40586-2001-8034-120b-144d13a359be","targetPort":"in-Changed"},{"sourceId":"329e2b13-ab38-eabb-de3c-c03f818eab04","sourcePort":"checked","targetId":"e1c40586-2001-8034-120b-144d13a359be","targetPort":"in-Checked"},{"sourceId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","sourcePort":"out-Checked","targetId":"329e2b13-ab38-eabb-de3c-c03f818eab04","targetPort":"checked"},{"sourceId":"1026fe30-b16e-9151-dd45-fc352bd9c01e","sourcePort":"out-Label","targetId":"329e2b13-ab38-eabb-de3c-c03f818eab04","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["cdce4b3a-5a09-adea-6bbe-cfd052af0dd9"]},{"name":"/Collection Pages/Furniture/Redd/Redd Logic/Options","nodes":[{"id":"890c5208-a458-f21f-4da1-2128bbcc5270","type":"Group","parameters":{},"ports":[],"children":[{"id":"fe88eb35-9061-f1cb-f4fd-06851f03c7e0","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"c3b377c3-9619-569b-2828-0c55b701602a","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"14e3ada5-4de7-6317-089d-b37d95137c59","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"0ca62e76-71d8-34c5-0775-92406c73c356","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"c25de22b-8321-5130-8a7e-bd39424ac2fc","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"c3b377c3-9619-569b-2828-0c55b701602a","sourcePort":"id","targetId":"0ca62e76-71d8-34c5-0775-92406c73c356","targetPort":"in-ID"},{"sourceId":"c3b377c3-9619-569b-2828-0c55b701602a","sourcePort":"prop-Label","targetId":"0ca62e76-71d8-34c5-0775-92406c73c356","targetPort":"in-Label"},{"sourceId":"c3b377c3-9619-569b-2828-0c55b701602a","sourcePort":"prop-Checked","targetId":"0ca62e76-71d8-34c5-0775-92406c73c356","targetPort":"in-Checked"},{"sourceId":"0ca62e76-71d8-34c5-0775-92406c73c356","sourcePort":"out-ID","targetId":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","targetPort":"in-ID"},{"sourceId":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","sourcePort":"out-ID","targetId":"14e3ada5-4de7-6317-089d-b37d95137c59","targetPort":"modelId"},{"sourceId":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","sourcePort":"out-Checked","targetId":"14e3ada5-4de7-6317-089d-b37d95137c59","targetPort":"prop-Checked"},{"sourceId":"0ca62e76-71d8-34c5-0775-92406c73c356","sourcePort":"out-Label","targetId":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","targetPort":"in-Label"},{"sourceId":"c3b377c3-9619-569b-2828-0c55b701602a","sourcePort":"prop-Icon","targetId":"0ca62e76-71d8-34c5-0775-92406c73c356","targetPort":"in-Icon"},{"sourceId":"0ca62e76-71d8-34c5-0775-92406c73c356","sourcePort":"out-Icon","targetId":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","targetPort":"in-Icon"},{"sourceId":"14e3ada5-4de7-6317-089d-b37d95137c59","sourcePort":"stored","targetId":"c25de22b-8321-5130-8a7e-bd39424ac2fc","targetPort":"Selection Changed"},{"sourceId":"fe88eb35-9061-f1cb-f4fd-06851f03c7e0","sourcePort":"onChange","targetId":"14e3ada5-4de7-6317-089d-b37d95137c59","targetPort":"store"},{"sourceId":"fe88eb35-9061-f1cb-f4fd-06851f03c7e0","sourcePort":"onChange","targetId":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","targetPort":"in-Changed"},{"sourceId":"fe88eb35-9061-f1cb-f4fd-06851f03c7e0","sourcePort":"checked","targetId":"7d4dbcfc-3f91-d313-9e9d-60186bb8a004","targetPort":"in-Checked"},{"sourceId":"0ca62e76-71d8-34c5-0775-92406c73c356","sourcePort":"out-Checked","targetId":"fe88eb35-9061-f1cb-f4fd-06851f03c7e0","targetPort":"checked"},{"sourceId":"0ca62e76-71d8-34c5-0775-92406c73c356","sourcePort":"out-Label","targetId":"fe88eb35-9061-f1cb-f4fd-06851f03c7e0","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["890c5208-a458-f21f-4da1-2128bbcc5270"]},{"name":"/Collection Pages/Furniture/Secret Codes/Secret Codes Logic/Options","nodes":[{"id":"03e129b1-3b6f-3da4-2494-4ef625e61dce","type":"Group","parameters":{},"ports":[],"children":[{"id":"b2e29690-7bcd-2996-ac61-af28e09f9e98","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"2b62bb97-8f46-64c5-1273-931b33ef862e","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"768acfa6-5330-3144-cf14-950de18ccc7d","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"0da7ba65-300e-da40-5700-1b911b504743","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"118d818d-4211-63f6-50ba-a810bc01fab4","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"dbcff418-0c52-e61a-2c0e-c92023a0a070","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"2b62bb97-8f46-64c5-1273-931b33ef862e","sourcePort":"id","targetId":"0da7ba65-300e-da40-5700-1b911b504743","targetPort":"in-ID"},{"sourceId":"2b62bb97-8f46-64c5-1273-931b33ef862e","sourcePort":"prop-Label","targetId":"0da7ba65-300e-da40-5700-1b911b504743","targetPort":"in-Label"},{"sourceId":"2b62bb97-8f46-64c5-1273-931b33ef862e","sourcePort":"prop-Checked","targetId":"0da7ba65-300e-da40-5700-1b911b504743","targetPort":"in-Checked"},{"sourceId":"0da7ba65-300e-da40-5700-1b911b504743","sourcePort":"out-ID","targetId":"118d818d-4211-63f6-50ba-a810bc01fab4","targetPort":"in-ID"},{"sourceId":"118d818d-4211-63f6-50ba-a810bc01fab4","sourcePort":"out-ID","targetId":"768acfa6-5330-3144-cf14-950de18ccc7d","targetPort":"modelId"},{"sourceId":"118d818d-4211-63f6-50ba-a810bc01fab4","sourcePort":"out-Checked","targetId":"768acfa6-5330-3144-cf14-950de18ccc7d","targetPort":"prop-Checked"},{"sourceId":"0da7ba65-300e-da40-5700-1b911b504743","sourcePort":"out-Label","targetId":"118d818d-4211-63f6-50ba-a810bc01fab4","targetPort":"in-Label"},{"sourceId":"2b62bb97-8f46-64c5-1273-931b33ef862e","sourcePort":"prop-Icon","targetId":"0da7ba65-300e-da40-5700-1b911b504743","targetPort":"in-Icon"},{"sourceId":"0da7ba65-300e-da40-5700-1b911b504743","sourcePort":"out-Icon","targetId":"118d818d-4211-63f6-50ba-a810bc01fab4","targetPort":"in-Icon"},{"sourceId":"768acfa6-5330-3144-cf14-950de18ccc7d","sourcePort":"stored","targetId":"dbcff418-0c52-e61a-2c0e-c92023a0a070","targetPort":"Selection Changed"},{"sourceId":"b2e29690-7bcd-2996-ac61-af28e09f9e98","sourcePort":"onChange","targetId":"768acfa6-5330-3144-cf14-950de18ccc7d","targetPort":"store"},{"sourceId":"b2e29690-7bcd-2996-ac61-af28e09f9e98","sourcePort":"onChange","targetId":"118d818d-4211-63f6-50ba-a810bc01fab4","targetPort":"in-Changed"},{"sourceId":"b2e29690-7bcd-2996-ac61-af28e09f9e98","sourcePort":"checked","targetId":"118d818d-4211-63f6-50ba-a810bc01fab4","targetPort":"in-Checked"},{"sourceId":"0da7ba65-300e-da40-5700-1b911b504743","sourcePort":"out-Checked","targetId":"b2e29690-7bcd-2996-ac61-af28e09f9e98","targetPort":"checked"},{"sourceId":"0da7ba65-300e-da40-5700-1b911b504743","sourcePort":"out-Label","targetId":"b2e29690-7bcd-2996-ac61-af28e09f9e98","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["03e129b1-3b6f-3da4-2494-4ef625e61dce"]},{"name":"/Collection Pages/Furniture/Snowman/Snowman Logic/Options","nodes":[{"id":"a8b4ab6f-4758-80bd-4f26-6d1ea9fe6ca7","type":"Group","parameters":{},"ports":[],"children":[{"id":"bdf73b22-dbb8-1b82-d461-897dd8af23d1","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"71072770-80d9-fc5c-24f7-3da148d8d951","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"8cffbfa4-1905-56d1-48b8-1a38ca4b2d82","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"b4eeeb41-bd62-a4c4-a7f3-bda14a556790","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"71072770-80d9-fc5c-24f7-3da148d8d951","sourcePort":"id","targetId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","targetPort":"in-ID"},{"sourceId":"71072770-80d9-fc5c-24f7-3da148d8d951","sourcePort":"prop-Label","targetId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","targetPort":"in-Label"},{"sourceId":"71072770-80d9-fc5c-24f7-3da148d8d951","sourcePort":"prop-Checked","targetId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","targetPort":"in-Checked"},{"sourceId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","sourcePort":"out-ID","targetId":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","targetPort":"in-ID"},{"sourceId":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","sourcePort":"out-ID","targetId":"8cffbfa4-1905-56d1-48b8-1a38ca4b2d82","targetPort":"modelId"},{"sourceId":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","sourcePort":"out-Checked","targetId":"8cffbfa4-1905-56d1-48b8-1a38ca4b2d82","targetPort":"prop-Checked"},{"sourceId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","sourcePort":"out-Label","targetId":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","targetPort":"in-Label"},{"sourceId":"71072770-80d9-fc5c-24f7-3da148d8d951","sourcePort":"prop-Icon","targetId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","targetPort":"in-Icon"},{"sourceId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","sourcePort":"out-Icon","targetId":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","targetPort":"in-Icon"},{"sourceId":"8cffbfa4-1905-56d1-48b8-1a38ca4b2d82","sourcePort":"stored","targetId":"b4eeeb41-bd62-a4c4-a7f3-bda14a556790","targetPort":"Selection Changed"},{"sourceId":"bdf73b22-dbb8-1b82-d461-897dd8af23d1","sourcePort":"onChange","targetId":"8cffbfa4-1905-56d1-48b8-1a38ca4b2d82","targetPort":"store"},{"sourceId":"bdf73b22-dbb8-1b82-d461-897dd8af23d1","sourcePort":"onChange","targetId":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","targetPort":"in-Changed"},{"sourceId":"bdf73b22-dbb8-1b82-d461-897dd8af23d1","sourcePort":"checked","targetId":"516fdb89-cafe-40cd-4ac9-c404dd2bd270","targetPort":"in-Checked"},{"sourceId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","sourcePort":"out-Checked","targetId":"bdf73b22-dbb8-1b82-d461-897dd8af23d1","targetPort":"checked"},{"sourceId":"6bd5f9ea-d73b-20ad-5daa-1e25ceb36574","sourcePort":"out-Label","targetId":"bdf73b22-dbb8-1b82-d461-897dd8af23d1","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["a8b4ab6f-4758-80bd-4f26-6d1ea9fe6ca7"]},{"name":"/Collection Pages/Furniture/Summer Camper/Summer Camper Logic/Options","nodes":[{"id":"0b3f7523-f10b-daed-e697-ca519a0ab386","type":"Group","parameters":{},"ports":[],"children":[{"id":"63072445-7929-6426-5af7-3dfe0a345c78","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"d6d7904a-f2bb-b6aa-e030-cca72cfc9452","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"594994c3-ad38-c8a3-fb07-2e4f9ed8f61c","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"c2c588cb-ac5b-11fb-3c2c-be769597b979","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"ff4e8b47-0a25-8c08-535e-39d33ed46182","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d6d7904a-f2bb-b6aa-e030-cca72cfc9452","sourcePort":"id","targetId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","targetPort":"in-ID"},{"sourceId":"d6d7904a-f2bb-b6aa-e030-cca72cfc9452","sourcePort":"prop-Label","targetId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","targetPort":"in-Label"},{"sourceId":"d6d7904a-f2bb-b6aa-e030-cca72cfc9452","sourcePort":"prop-Checked","targetId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","targetPort":"in-Checked"},{"sourceId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","sourcePort":"out-ID","targetId":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","targetPort":"in-ID"},{"sourceId":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","sourcePort":"out-ID","targetId":"594994c3-ad38-c8a3-fb07-2e4f9ed8f61c","targetPort":"modelId"},{"sourceId":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","sourcePort":"out-Checked","targetId":"594994c3-ad38-c8a3-fb07-2e4f9ed8f61c","targetPort":"prop-Checked"},{"sourceId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","sourcePort":"out-Label","targetId":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","targetPort":"in-Label"},{"sourceId":"d6d7904a-f2bb-b6aa-e030-cca72cfc9452","sourcePort":"prop-Icon","targetId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","targetPort":"in-Icon"},{"sourceId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","sourcePort":"out-Icon","targetId":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","targetPort":"in-Icon"},{"sourceId":"594994c3-ad38-c8a3-fb07-2e4f9ed8f61c","sourcePort":"stored","targetId":"ff4e8b47-0a25-8c08-535e-39d33ed46182","targetPort":"Selection Changed"},{"sourceId":"63072445-7929-6426-5af7-3dfe0a345c78","sourcePort":"onChange","targetId":"594994c3-ad38-c8a3-fb07-2e4f9ed8f61c","targetPort":"store"},{"sourceId":"63072445-7929-6426-5af7-3dfe0a345c78","sourcePort":"onChange","targetId":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","targetPort":"in-Changed"},{"sourceId":"63072445-7929-6426-5af7-3dfe0a345c78","sourcePort":"checked","targetId":"383121b7-5f35-dbcd-e7f7-efe8adf74fcd","targetPort":"in-Checked"},{"sourceId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","sourcePort":"out-Checked","targetId":"63072445-7929-6426-5af7-3dfe0a345c78","targetPort":"checked"},{"sourceId":"c2c588cb-ac5b-11fb-3c2c-be769597b979","sourcePort":"out-Label","targetId":"63072445-7929-6426-5af7-3dfe0a345c78","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["0b3f7523-f10b-daed-e697-ca519a0ab386"]},{"name":"/Collection Pages/Furniture/Tortimer/Tortimer Logic/Options","nodes":[{"id":"d2a155f2-d3d2-eeb7-f50c-9052bd8ec1b4","type":"Group","parameters":{},"ports":[],"children":[{"id":"e9c8c2d6-fbb9-f82c-fd79-b65fde8edce4","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"263e4de9-c803-a00b-0a2d-ef5355220cae","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"0f03b2da-f47f-9755-02ed-c83b02426035","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"6f920b87-d1ee-f71b-2981-7b364521e426","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"263e4de9-c803-a00b-0a2d-ef5355220cae","sourcePort":"id","targetId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","targetPort":"in-ID"},{"sourceId":"263e4de9-c803-a00b-0a2d-ef5355220cae","sourcePort":"prop-Label","targetId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","targetPort":"in-Label"},{"sourceId":"263e4de9-c803-a00b-0a2d-ef5355220cae","sourcePort":"prop-Checked","targetId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","targetPort":"in-Checked"},{"sourceId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","sourcePort":"out-ID","targetId":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","targetPort":"in-ID"},{"sourceId":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","sourcePort":"out-ID","targetId":"0f03b2da-f47f-9755-02ed-c83b02426035","targetPort":"modelId"},{"sourceId":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","sourcePort":"out-Checked","targetId":"0f03b2da-f47f-9755-02ed-c83b02426035","targetPort":"prop-Checked"},{"sourceId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","sourcePort":"out-Label","targetId":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","targetPort":"in-Label"},{"sourceId":"263e4de9-c803-a00b-0a2d-ef5355220cae","sourcePort":"prop-Icon","targetId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","targetPort":"in-Icon"},{"sourceId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","sourcePort":"out-Icon","targetId":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","targetPort":"in-Icon"},{"sourceId":"0f03b2da-f47f-9755-02ed-c83b02426035","sourcePort":"stored","targetId":"6f920b87-d1ee-f71b-2981-7b364521e426","targetPort":"Selection Changed"},{"sourceId":"e9c8c2d6-fbb9-f82c-fd79-b65fde8edce4","sourcePort":"onChange","targetId":"0f03b2da-f47f-9755-02ed-c83b02426035","targetPort":"store"},{"sourceId":"e9c8c2d6-fbb9-f82c-fd79-b65fde8edce4","sourcePort":"onChange","targetId":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","targetPort":"in-Changed"},{"sourceId":"e9c8c2d6-fbb9-f82c-fd79-b65fde8edce4","sourcePort":"checked","targetId":"5215e29c-0be0-aba8-5a1e-ed6e386c2329","targetPort":"in-Checked"},{"sourceId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","sourcePort":"out-Checked","targetId":"e9c8c2d6-fbb9-f82c-fd79-b65fde8edce4","targetPort":"checked"},{"sourceId":"64a209f1-0d6a-35bb-42a3-d53ed2b714b1","sourcePort":"out-Label","targetId":"e9c8c2d6-fbb9-f82c-fd79-b65fde8edce4","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["d2a155f2-d3d2-eeb7-f50c-9052bd8ec1b4"]},{"name":"/Collection Pages/Furniture/Toy Day/Toy Day Logic/Options","nodes":[{"id":"bffe9927-b7a2-7add-cf98-b098edc99908","type":"Group","parameters":{},"ports":[],"children":[{"id":"528d6ff0-c8c3-d0a7-0a1b-f625464a45d7","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"191fe780-1d30-9443-c3ef-f45a00309526","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"0fae4358-7568-41c0-5f00-a6b50fc06643","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"9644805a-f11f-f9a7-73cf-28910a4c2069","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"3bcaa343-302f-0730-3d2b-2e64db259522","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"16435b28-9757-fa75-3f68-4041811a4ea3","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"191fe780-1d30-9443-c3ef-f45a00309526","sourcePort":"id","targetId":"9644805a-f11f-f9a7-73cf-28910a4c2069","targetPort":"in-ID"},{"sourceId":"191fe780-1d30-9443-c3ef-f45a00309526","sourcePort":"prop-Label","targetId":"9644805a-f11f-f9a7-73cf-28910a4c2069","targetPort":"in-Label"},{"sourceId":"191fe780-1d30-9443-c3ef-f45a00309526","sourcePort":"prop-Checked","targetId":"9644805a-f11f-f9a7-73cf-28910a4c2069","targetPort":"in-Checked"},{"sourceId":"9644805a-f11f-f9a7-73cf-28910a4c2069","sourcePort":"out-ID","targetId":"3bcaa343-302f-0730-3d2b-2e64db259522","targetPort":"in-ID"},{"sourceId":"3bcaa343-302f-0730-3d2b-2e64db259522","sourcePort":"out-ID","targetId":"0fae4358-7568-41c0-5f00-a6b50fc06643","targetPort":"modelId"},{"sourceId":"3bcaa343-302f-0730-3d2b-2e64db259522","sourcePort":"out-Checked","targetId":"0fae4358-7568-41c0-5f00-a6b50fc06643","targetPort":"prop-Checked"},{"sourceId":"9644805a-f11f-f9a7-73cf-28910a4c2069","sourcePort":"out-Label","targetId":"3bcaa343-302f-0730-3d2b-2e64db259522","targetPort":"in-Label"},{"sourceId":"191fe780-1d30-9443-c3ef-f45a00309526","sourcePort":"prop-Icon","targetId":"9644805a-f11f-f9a7-73cf-28910a4c2069","targetPort":"in-Icon"},{"sourceId":"9644805a-f11f-f9a7-73cf-28910a4c2069","sourcePort":"out-Icon","targetId":"3bcaa343-302f-0730-3d2b-2e64db259522","targetPort":"in-Icon"},{"sourceId":"0fae4358-7568-41c0-5f00-a6b50fc06643","sourcePort":"stored","targetId":"16435b28-9757-fa75-3f68-4041811a4ea3","targetPort":"Selection Changed"},{"sourceId":"528d6ff0-c8c3-d0a7-0a1b-f625464a45d7","sourcePort":"onChange","targetId":"0fae4358-7568-41c0-5f00-a6b50fc06643","targetPort":"store"},{"sourceId":"528d6ff0-c8c3-d0a7-0a1b-f625464a45d7","sourcePort":"onChange","targetId":"3bcaa343-302f-0730-3d2b-2e64db259522","targetPort":"in-Changed"},{"sourceId":"528d6ff0-c8c3-d0a7-0a1b-f625464a45d7","sourcePort":"checked","targetId":"3bcaa343-302f-0730-3d2b-2e64db259522","targetPort":"in-Checked"},{"sourceId":"9644805a-f11f-f9a7-73cf-28910a4c2069","sourcePort":"out-Checked","targetId":"528d6ff0-c8c3-d0a7-0a1b-f625464a45d7","targetPort":"checked"},{"sourceId":"9644805a-f11f-f9a7-73cf-28910a4c2069","sourcePort":"out-Label","targetId":"528d6ff0-c8c3-d0a7-0a1b-f625464a45d7","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["bffe9927-b7a2-7add-cf98-b098edc99908"]},{"name":"/Collection Pages/Gyroids/Gyroids Logic/Options","nodes":[{"id":"5cff666f-e604-30bd-4537-a32f74fce46f","type":"Group","parameters":{},"ports":[],"children":[{"id":"eaa4c22d-a446-e633-ddee-c44eae428325","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"6a76b93c-8338-9bd6-1385-daa54a4915ee","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"884203f8-a4b5-8b8c-1f0a-94d631f8ccb1","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"23bdd378-38b2-194e-d425-3b038f341a9f","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"629c6386-83df-51a1-eaab-c8f736e9b029","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"dfa9f81c-6634-c2d2-d92d-ab6aa159db0a","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"6a76b93c-8338-9bd6-1385-daa54a4915ee","sourcePort":"id","targetId":"23bdd378-38b2-194e-d425-3b038f341a9f","targetPort":"in-ID"},{"sourceId":"6a76b93c-8338-9bd6-1385-daa54a4915ee","sourcePort":"prop-Label","targetId":"23bdd378-38b2-194e-d425-3b038f341a9f","targetPort":"in-Label"},{"sourceId":"6a76b93c-8338-9bd6-1385-daa54a4915ee","sourcePort":"prop-Checked","targetId":"23bdd378-38b2-194e-d425-3b038f341a9f","targetPort":"in-Checked"},{"sourceId":"23bdd378-38b2-194e-d425-3b038f341a9f","sourcePort":"out-ID","targetId":"629c6386-83df-51a1-eaab-c8f736e9b029","targetPort":"in-ID"},{"sourceId":"629c6386-83df-51a1-eaab-c8f736e9b029","sourcePort":"out-ID","targetId":"884203f8-a4b5-8b8c-1f0a-94d631f8ccb1","targetPort":"modelId"},{"sourceId":"629c6386-83df-51a1-eaab-c8f736e9b029","sourcePort":"out-Checked","targetId":"884203f8-a4b5-8b8c-1f0a-94d631f8ccb1","targetPort":"prop-Checked"},{"sourceId":"23bdd378-38b2-194e-d425-3b038f341a9f","sourcePort":"out-Label","targetId":"629c6386-83df-51a1-eaab-c8f736e9b029","targetPort":"in-Label"},{"sourceId":"6a76b93c-8338-9bd6-1385-daa54a4915ee","sourcePort":"prop-Icon","targetId":"23bdd378-38b2-194e-d425-3b038f341a9f","targetPort":"in-Icon"},{"sourceId":"23bdd378-38b2-194e-d425-3b038f341a9f","sourcePort":"out-Icon","targetId":"629c6386-83df-51a1-eaab-c8f736e9b029","targetPort":"in-Icon"},{"sourceId":"884203f8-a4b5-8b8c-1f0a-94d631f8ccb1","sourcePort":"stored","targetId":"dfa9f81c-6634-c2d2-d92d-ab6aa159db0a","targetPort":"Selection Changed"},{"sourceId":"eaa4c22d-a446-e633-ddee-c44eae428325","sourcePort":"onChange","targetId":"884203f8-a4b5-8b8c-1f0a-94d631f8ccb1","targetPort":"store"},{"sourceId":"eaa4c22d-a446-e633-ddee-c44eae428325","sourcePort":"onChange","targetId":"629c6386-83df-51a1-eaab-c8f736e9b029","targetPort":"in-Changed"},{"sourceId":"eaa4c22d-a446-e633-ddee-c44eae428325","sourcePort":"checked","targetId":"629c6386-83df-51a1-eaab-c8f736e9b029","targetPort":"in-Checked"},{"sourceId":"23bdd378-38b2-194e-d425-3b038f341a9f","sourcePort":"out-Checked","targetId":"eaa4c22d-a446-e633-ddee-c44eae428325","targetPort":"checked"},{"sourceId":"23bdd378-38b2-194e-d425-3b038f341a9f","sourcePort":"out-Label","targetId":"eaa4c22d-a446-e633-ddee-c44eae428325","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["5cff666f-e604-30bd-4537-a32f74fce46f"]},{"name":"/Collection Pages/Paintings/Paintings Logic/Options","nodes":[{"id":"f04a4e3c-8933-e63f-82c9-0934eb41e7e2","type":"Group","parameters":{},"ports":[],"children":[{"id":"6c009842-56f8-8d21-a523-a10a0441bcf8","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"d9e3f0da-4c07-596d-96a2-7172432e75ec","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"f2da0134-1fc5-da13-f90d-4c341c59239c","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"295b88fa-c3a4-487a-59d3-8ef82a897ef6","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"id","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-ID"},{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"prop-Label","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-Label"},{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"prop-Checked","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-Checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-ID","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-ID"},{"sourceId":"f2da0134-1fc5-da13-f90d-4c341c59239c","sourcePort":"out-ID","targetId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","targetPort":"modelId"},{"sourceId":"f2da0134-1fc5-da13-f90d-4c341c59239c","sourcePort":"out-Checked","targetId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","targetPort":"prop-Checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Label","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Label"},{"sourceId":"dc1b68a1-b300-87d3-fb9d-73affc908f0e","sourcePort":"prop-Icon","targetId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","targetPort":"in-Icon"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Icon","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Icon"},{"sourceId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","sourcePort":"stored","targetId":"295b88fa-c3a4-487a-59d3-8ef82a897ef6","targetPort":"Selection Changed"},{"sourceId":"6c009842-56f8-8d21-a523-a10a0441bcf8","sourcePort":"onChange","targetId":"f17be772-e88d-a5f2-68e4-5d5caa5d09ad","targetPort":"store"},{"sourceId":"6c009842-56f8-8d21-a523-a10a0441bcf8","sourcePort":"onChange","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Changed"},{"sourceId":"6c009842-56f8-8d21-a523-a10a0441bcf8","sourcePort":"checked","targetId":"f2da0134-1fc5-da13-f90d-4c341c59239c","targetPort":"in-Checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Checked","targetId":"6c009842-56f8-8d21-a523-a10a0441bcf8","targetPort":"checked"},{"sourceId":"d9e3f0da-4c07-596d-96a2-7172432e75ec","sourcePort":"out-Label","targetId":"6c009842-56f8-8d21-a523-a10a0441bcf8","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["f04a4e3c-8933-e63f-82c9-0934eb41e7e2"]},{"name":"/Collection Pages/Songs/Songs Logic/Options","nodes":[{"id":"01bbbef7-d990-26c8-30a0-f43b1a1a8104","type":"Group","parameters":{},"ports":[],"children":[{"id":"867a540b-6e8d-b010-01eb-9fb078299372","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"d338e4c8-e1ed-ab05-9f28-f163d094333c","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"7e255f80-e50e-7b30-179b-1a7082112de7","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"c1d29808-f690-bfda-94a5-c4798499dca5","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"76fdc587-6ac1-8eed-a1fe-52e2be63503a","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"d338e4c8-e1ed-ab05-9f28-f163d094333c","sourcePort":"id","targetId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","targetPort":"in-ID"},{"sourceId":"d338e4c8-e1ed-ab05-9f28-f163d094333c","sourcePort":"prop-Label","targetId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","targetPort":"in-Label"},{"sourceId":"d338e4c8-e1ed-ab05-9f28-f163d094333c","sourcePort":"prop-Checked","targetId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","targetPort":"in-Checked"},{"sourceId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","sourcePort":"out-ID","targetId":"c1d29808-f690-bfda-94a5-c4798499dca5","targetPort":"in-ID"},{"sourceId":"c1d29808-f690-bfda-94a5-c4798499dca5","sourcePort":"out-ID","targetId":"7e255f80-e50e-7b30-179b-1a7082112de7","targetPort":"modelId"},{"sourceId":"c1d29808-f690-bfda-94a5-c4798499dca5","sourcePort":"out-Checked","targetId":"7e255f80-e50e-7b30-179b-1a7082112de7","targetPort":"prop-Checked"},{"sourceId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","sourcePort":"out-Label","targetId":"c1d29808-f690-bfda-94a5-c4798499dca5","targetPort":"in-Label"},{"sourceId":"d338e4c8-e1ed-ab05-9f28-f163d094333c","sourcePort":"prop-Icon","targetId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","targetPort":"in-Icon"},{"sourceId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","sourcePort":"out-Icon","targetId":"c1d29808-f690-bfda-94a5-c4798499dca5","targetPort":"in-Icon"},{"sourceId":"7e255f80-e50e-7b30-179b-1a7082112de7","sourcePort":"stored","targetId":"76fdc587-6ac1-8eed-a1fe-52e2be63503a","targetPort":"Selection Changed"},{"sourceId":"867a540b-6e8d-b010-01eb-9fb078299372","sourcePort":"onChange","targetId":"7e255f80-e50e-7b30-179b-1a7082112de7","targetPort":"store"},{"sourceId":"867a540b-6e8d-b010-01eb-9fb078299372","sourcePort":"onChange","targetId":"c1d29808-f690-bfda-94a5-c4798499dca5","targetPort":"in-Changed"},{"sourceId":"867a540b-6e8d-b010-01eb-9fb078299372","sourcePort":"checked","targetId":"c1d29808-f690-bfda-94a5-c4798499dca5","targetPort":"in-Checked"},{"sourceId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","sourcePort":"out-Checked","targetId":"867a540b-6e8d-b010-01eb-9fb078299372","targetPort":"checked"},{"sourceId":"0e5c49d8-467c-a7f7-e345-03c1d083d0e9","sourcePort":"out-Label","targetId":"867a540b-6e8d-b010-01eb-9fb078299372","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["01bbbef7-d990-26c8-30a0-f43b1a1a8104"]},{"name":"/Collection Pages/Stationery/Stationery Logic/Options","nodes":[{"id":"1a24fe1a-b0f3-ba74-ee4d-f52b648a5e5e","type":"Group","parameters":{},"ports":[],"children":[{"id":"7703e554-d1ba-1b1e-7d49-5bafcd594f3e","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"084b4561-4ca4-8fa9-9a91-e61aefd0a200","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"d9371372-42fb-bda6-7fdf-25493f165956","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"cd0c7406-5518-4686-310c-32669d6b9d14","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"06d8ba30-9e7d-9003-c930-5eac0730145a","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"084b4561-4ca4-8fa9-9a91-e61aefd0a200","sourcePort":"id","targetId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","targetPort":"in-ID"},{"sourceId":"084b4561-4ca4-8fa9-9a91-e61aefd0a200","sourcePort":"prop-Label","targetId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","targetPort":"in-Label"},{"sourceId":"084b4561-4ca4-8fa9-9a91-e61aefd0a200","sourcePort":"prop-Checked","targetId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","targetPort":"in-Checked"},{"sourceId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","sourcePort":"out-ID","targetId":"cd0c7406-5518-4686-310c-32669d6b9d14","targetPort":"in-ID"},{"sourceId":"cd0c7406-5518-4686-310c-32669d6b9d14","sourcePort":"out-ID","targetId":"d9371372-42fb-bda6-7fdf-25493f165956","targetPort":"modelId"},{"sourceId":"cd0c7406-5518-4686-310c-32669d6b9d14","sourcePort":"out-Checked","targetId":"d9371372-42fb-bda6-7fdf-25493f165956","targetPort":"prop-Checked"},{"sourceId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","sourcePort":"out-Label","targetId":"cd0c7406-5518-4686-310c-32669d6b9d14","targetPort":"in-Label"},{"sourceId":"084b4561-4ca4-8fa9-9a91-e61aefd0a200","sourcePort":"prop-Icon","targetId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","targetPort":"in-Icon"},{"sourceId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","sourcePort":"out-Icon","targetId":"cd0c7406-5518-4686-310c-32669d6b9d14","targetPort":"in-Icon"},{"sourceId":"d9371372-42fb-bda6-7fdf-25493f165956","sourcePort":"stored","targetId":"06d8ba30-9e7d-9003-c930-5eac0730145a","targetPort":"Selection Changed"},{"sourceId":"7703e554-d1ba-1b1e-7d49-5bafcd594f3e","sourcePort":"onChange","targetId":"d9371372-42fb-bda6-7fdf-25493f165956","targetPort":"store"},{"sourceId":"7703e554-d1ba-1b1e-7d49-5bafcd594f3e","sourcePort":"onChange","targetId":"cd0c7406-5518-4686-310c-32669d6b9d14","targetPort":"in-Changed"},{"sourceId":"7703e554-d1ba-1b1e-7d49-5bafcd594f3e","sourcePort":"checked","targetId":"cd0c7406-5518-4686-310c-32669d6b9d14","targetPort":"in-Checked"},{"sourceId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","sourcePort":"out-Checked","targetId":"7703e554-d1ba-1b1e-7d49-5bafcd594f3e","targetPort":"checked"},{"sourceId":"a66869b1-16d4-6e3f-4f21-b5a88bf37a43","sourcePort":"out-Label","targetId":"7703e554-d1ba-1b1e-7d49-5bafcd594f3e","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["1a24fe1a-b0f3-ba74-ee4d-f52b648a5e5e"]},{"name":"/Collection Pages/Tools/Tools Logic/Options","nodes":[{"id":"96000a94-f0bd-6046-526a-63eb7abc1957","type":"Group","parameters":{},"ports":[],"children":[{"id":"32263cb2-34cb-2e24-5728-b83eb20965b4","type":"net.noodl.controls.checkbox","parameters":{"labeltextStyle":"Title Medium","labelcolor":"Nookmiles Brown"},"ports":[],"children":[]}]},{"id":"40eef074-06bb-6a73-26ff-55d4784227cd","type":"Model2","parameters":{"properties":"Label,Checked,Icon","idSource":"foreach"},"ports":[],"children":[]},{"id":"1baf3ad1-d0d9-adbc-7d33-24a3c541d4ab","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"48ea236b-4880-f8ca-a07c-30a5b0780513","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\nconst label = Inputs.Label || '';\nconst checked = Inputs.Checked || false;\nconst icon = Inputs.Icon || ''; // Added icon\n\n// Function to load data from localStorage\nfunction loadSelection(id, callback) {\n    const storedData = localStorage.getItem(id);\n    if (storedData) {\n        callback(JSON.parse(storedData));\n    } else {\n        callback(null);\n    }\n}\n\n// Function to handle passthrough\nfunction passthrough() {\n    Outputs.ID = id;\n    Outputs.Label = label;\n    Outputs.Checked = checked;\n    Outputs.Icon = icon; // Added icon\n    Outputs.Failure();\n}\n\n// Main logic\nloadSelection(id, function(result) {\n    if (result) {\n        Outputs.ID = result.id;\n        Outputs.Label = result.label;\n        Outputs.Checked = result.checked;\n        Outputs.Icon = result.icon || ''; // Added icon handling\n        Outputs.Success();\n    } else {\n        passthrough();\n    }\n});\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","type":"JavaScriptFunction","parameters":{"functionScript":"const id = Inputs.ID || '';\r\nconst label = Inputs.Label || '';\r\nconst checked = Inputs.Checked; // Expecting a boolean input\r\nconst changed = Inputs.Changed; // Signal input, used as a trigger\r\nconst icon = Inputs.Icon || ''; // Added icon\r\n\r\n// Function to load data from localStorage\r\nfunction loadSelection(id, callback) {\r\n    const storedData = localStorage.getItem(id);\r\n    if (storedData) {\r\n        callback(JSON.parse(storedData));\r\n    } else {\r\n        callback(null);\r\n    }\r\n}\r\n\r\n// Function to save data to localStorage\r\nfunction saveSelection(selection) {\r\n    localStorage.setItem(selection.id, JSON.stringify(selection));\r\n}\r\n\r\n// Function to delete data from localStorage\r\nfunction deleteSelection(id) {\r\n    localStorage.removeItem(id);\r\n}\r\n\r\n// Function to check if data has changed and save or delete if necessary\r\nfunction checkAndUpdateSelection(selection) {\r\n    loadSelection(selection.id, function(existingItem) {\r\n        let dataChanged = false;\r\n\r\n        if (existingItem) {\r\n            if (selection.checked === false) {\r\n                // If the checkbox is unchecked, delete the entry\r\n                deleteSelection(selection.id);\r\n                Outputs.SavedSelection = null; // Indicate that nothing was saved\r\n                Outputs.Success();\r\n            } else {\r\n                // Check if the existing data is different from the new data\r\n                if (existingItem.label !== selection.label ||\r\n                    existingItem.checked !== selection.checked ||\r\n                    existingItem.icon !== selection.icon) {\r\n                    dataChanged = true;\r\n                }\r\n\r\n                if (dataChanged) {\r\n                    saveSelection(selection);\r\n                    Outputs.SavedSelection = selection;\r\n                    Outputs.Success();\r\n                } else {\r\n                    passthrough();\r\n                }\r\n            }\r\n        } else {\r\n            if (selection.checked) {\r\n                // If the checkbox is checked and no existing item, save the new item\r\n                saveSelection(selection);\r\n                Outputs.SavedSelection = selection;\r\n                Outputs.Success();\r\n            } else {\r\n                passthrough();\r\n            }\r\n        }\r\n        // Signal completion\r\n        Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n    });\r\n}\r\n\r\n// Function to handle passthrough\r\nfunction passthrough() {\r\n    Outputs.ID = id;\r\n    Outputs.Label = label;\r\n    Outputs.Checked = checked;\r\n    Outputs.Icon = icon; // Added icon\r\n    Outputs.Failure();\r\n    // Signal completion\r\n    Outputs.Completed = true; // or you can use Outputs.Completed = new Date().getTime(); for a timestamp\r\n}\r\n\r\n// Main logic\r\nconst selection = { id, label, checked, icon }; // Added icon\r\nif (changed) {\r\n    checkAndUpdateSelection(selection);\r\n} else {\r\n    passthrough();\r\n}\r\n"},"ports":[{"name":"in-ID","displayName":"ID","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Label","displayName":"Label","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Checked","displayName":"Checked","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Changed","displayName":"Changed","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Icon","displayName":"Icon","plug":"input","type":"*","group":"Inputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-SavedSelection","displayName":"SavedSelection","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-Completed","displayName":"Completed","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-ID","displayName":"ID","plug":"output","type":"*","group":"Outputs","index":13},{"name":"out-Label","displayName":"Label","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Checked","displayName":"Checked","plug":"output","type":"*","group":"Outputs","index":15},{"name":"out-Icon","displayName":"Icon","plug":"output","type":"*","group":"Outputs","index":16}],"children":[]},{"id":"fec4787d-f70f-6f1a-03a8-cd895eed61d2","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"40eef074-06bb-6a73-26ff-55d4784227cd","sourcePort":"id","targetId":"48ea236b-4880-f8ca-a07c-30a5b0780513","targetPort":"in-ID"},{"sourceId":"40eef074-06bb-6a73-26ff-55d4784227cd","sourcePort":"prop-Label","targetId":"48ea236b-4880-f8ca-a07c-30a5b0780513","targetPort":"in-Label"},{"sourceId":"40eef074-06bb-6a73-26ff-55d4784227cd","sourcePort":"prop-Checked","targetId":"48ea236b-4880-f8ca-a07c-30a5b0780513","targetPort":"in-Checked"},{"sourceId":"48ea236b-4880-f8ca-a07c-30a5b0780513","sourcePort":"out-ID","targetId":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","targetPort":"in-ID"},{"sourceId":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","sourcePort":"out-ID","targetId":"1baf3ad1-d0d9-adbc-7d33-24a3c541d4ab","targetPort":"modelId"},{"sourceId":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","sourcePort":"out-Checked","targetId":"1baf3ad1-d0d9-adbc-7d33-24a3c541d4ab","targetPort":"prop-Checked"},{"sourceId":"48ea236b-4880-f8ca-a07c-30a5b0780513","sourcePort":"out-Label","targetId":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","targetPort":"in-Label"},{"sourceId":"40eef074-06bb-6a73-26ff-55d4784227cd","sourcePort":"prop-Icon","targetId":"48ea236b-4880-f8ca-a07c-30a5b0780513","targetPort":"in-Icon"},{"sourceId":"48ea236b-4880-f8ca-a07c-30a5b0780513","sourcePort":"out-Icon","targetId":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","targetPort":"in-Icon"},{"sourceId":"1baf3ad1-d0d9-adbc-7d33-24a3c541d4ab","sourcePort":"stored","targetId":"fec4787d-f70f-6f1a-03a8-cd895eed61d2","targetPort":"Selection Changed"},{"sourceId":"32263cb2-34cb-2e24-5728-b83eb20965b4","sourcePort":"onChange","targetId":"1baf3ad1-d0d9-adbc-7d33-24a3c541d4ab","targetPort":"store"},{"sourceId":"32263cb2-34cb-2e24-5728-b83eb20965b4","sourcePort":"onChange","targetId":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","targetPort":"in-Changed"},{"sourceId":"32263cb2-34cb-2e24-5728-b83eb20965b4","sourcePort":"checked","targetId":"58ac0629-fdc5-6d27-1c2f-956dcd5414ce","targetPort":"in-Checked"},{"sourceId":"48ea236b-4880-f8ca-a07c-30a5b0780513","sourcePort":"out-Checked","targetId":"32263cb2-34cb-2e24-5728-b83eb20965b4","targetPort":"checked"},{"sourceId":"48ea236b-4880-f8ca-a07c-30a5b0780513","sourcePort":"out-Label","targetId":"32263cb2-34cb-2e24-5728-b83eb20965b4","targetPort":"label"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["96000a94-f0bd-6046-526a-63eb7abc1957"]},{"name":"/Multi Choice With Pills/Pill","nodes":[{"id":"a8dc1828-f931-8dca-2232-28830d8b61c5","type":"Group","parameters":{"backgroundColor":"Primary","borderRadius":{"value":4,"unit":"px"},"sizeMode":"contentWidth","flexDirection":"row","paddingLeft":{"value":12,"unit":"px"},"height":{"value":28,"unit":"px"},"alignItems":"center","paddingRight":{"value":4,"unit":"px"},"marginBottom":{"value":4,"unit":"px"},"marginRight":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"90f22133-ba44-262e-74c1-6b440f46be0c","type":"Text","parameters":{"alignY":"center","color":"#FFFFFF","textStyle":"Label Medium"},"ports":[],"children":[]},{"id":"fcdb537a-7794-7916-bbf6-3ab726ccf99b","type":"net.noodl.controls.button","parameters":{"useIcon":true,"useLabel":false,"backgroundColor":"#5836F500","iconIconSource":{"class":"material-icons","code":"close"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"},"paddingLeft":{"value":4,"unit":"px"},"paddingRight":{"value":4,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"iconSize":{"value":16,"unit":"px"}},"ports":[],"children":[]}]},{"id":"785f189e-f2f9-325b-acfa-a60403c2bcd0","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"951c2517-6431-797d-6980-16d285aa222e","type":"SetModelProperties","parameters":{"properties":"Checked","type-Checked":"boolean","prop-Checked":false,"idSource":"foreach"},"ports":[],"children":[]},{"id":"d360d2fd-a5ef-2d8a-420e-a17f3dd14c52","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"fcdb537a-7794-7916-bbf6-3ab726ccf99b","sourcePort":"onClick","targetId":"951c2517-6431-797d-6980-16d285aa222e","targetPort":"store"},{"sourceId":"951c2517-6431-797d-6980-16d285aa222e","sourcePort":"stored","targetId":"d360d2fd-a5ef-2d8a-420e-a17f3dd14c52","targetPort":"Selection Changed"},{"sourceId":"785f189e-f2f9-325b-acfa-a60403c2bcd0","sourcePort":"Label","targetId":"90f22133-ba44-262e-74c1-6b440f46be0c","targetPort":"text"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1},{"name":"Label","type":{"name":"string","multiline":true},"default":"Text","group":"Text","plug":"input","index":1}],"roots":["a8dc1828-f931-8dca-2232-28830d8b61c5"],"metadata":{"canvasPos":{"x":2388.6230141451306,"y":96.64760895061303},"canvasSize":{"width":"112px","height":"auto"}}},{"name":"/Nav Pages/Furniture Logic","nodes":[],"connections":[],"ports":[],"roots":[]}]